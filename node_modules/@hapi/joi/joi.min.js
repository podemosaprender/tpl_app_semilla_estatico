!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Joi=f()}}(function(){return function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}}()({1:[function(require,module,exports){"use strict";const internals={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:require("url").URL||URL};exports.analyze=function(domain,options={}){if("string"!=typeof domain)throw new Error("Invalid input: domain must be a string");if(!domain)return{error:"Domain must be a non-empty string"};if(domain.length>256)return{error:"Domain too long"};if(!!internals.nonAsciiRx.test(domain)){if(!1===options.allowUnicode)return{error:"Domain contains forbidden Unicode characters"};domain=domain.normalize("NFC")}if(internals.domainControlRx.test(domain))return{error:"Domain contains invalid character"};domain=internals.punycode(domain);const minDomainSegments=options.minDomainSegments||internals.minDomainSegments,segments=domain.split(".");if(segments.length<minDomainSegments)return{error:"Domain lacks the minimum required number of segments"};const tlds=options.tlds;if(tlds){const tld=segments[segments.length-1].toLowerCase();if(tlds.deny&&tlds.deny.has(tld)||tlds.allow&&!tlds.allow.has(tld))return{error:"Domain uses forbidden TLD"}}for(let i=0;i<segments.length;++i){const segment=segments[i];if(!segment.length)return{error:"Domain contains empty dot-separated segment"};if(segment.length>63)return{error:"Domain contains dot-separated segment that is too long"};if(i<segments.length-1){if(!internals.domainSegmentRx.test(segment))return{error:"Domain contains invalid character"}}else if(!internals.tldSegmentRx.test(segment))return{error:"Domain contains invalid tld character"}}},exports.isValid=function(domain,options){return!exports.analyze(domain,options)},internals.punycode=function(domain){try{return new internals.URL(`http://${domain}`).host}catch(err){return domain}}},{url:70}],2:[function(require,module,exports){"use strict";const Util=require("util"),Domain=require("./domain"),internals={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(Util.TextEncoder||TextEncoder)};exports.analyze=function(email,options){return internals.email(email,options)},exports.isValid=function(email,options){return!internals.email(email,options)},internals.email=function(email,options={}){if("string"!=typeof email)throw new Error("Invalid input: email must be a string");if(!email)return{error:"Address must be a non-empty string"};const ascii=!internals.nonAsciiRx.test(email);if(!ascii){if(!1===options.allowUnicode)return{error:"Address contains forbidden Unicode characters"};email=email.normalize("NFC")}const parts=email.split("@");if(2!==parts.length)return{error:parts.length>2?"Address cannot contain more than one @ character":"Address must contain one @ character"};const[local,domain]=parts;if(!local)return{error:"Address local part cannot be empty"};if(!options.ignoreLength){if(email.length>254)return{error:"Address too long"};if(internals.encoder.encode(local).length>64)return{error:"Address local part too long"}}return internals.local(local,ascii)||Domain.analyze(domain,options)},internals.local=function(local,ascii){const segments=local.split(".");for(const segment of segments){if(!segment.length)return{error:"Address local part contains empty dot-separated segment"};if(ascii){if(!internals.atextRx.test(segment))return{error:"Address local part contains invalid character"}}else for(const char of segment){if(internals.atextRx.test(char))continue;const binary=internals.binary(char);if(!internals.atomRx.test(binary))return{error:"Address local part contains invalid character"}}}},internals.binary=function(char){return Array.from(internals.encoder.encode(char)).map(v=>String.fromCharCode(v)).join("")},internals.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,internals.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},{"./domain":1,util:62}],3:[function(require,module,exports){"use strict";const Domain=require("./domain"),Email=require("./email"),internals={defaultTlds:{allow:require("./tlds"),deny:null}};module.exports={domain:{analyze:(domain,options)=>(options=internals.options(options),Domain.analyze(domain,options)),isValid:(domain,options)=>(options=internals.options(options),Domain.isValid(domain,options))},email:{analyze:(email,options)=>(options=internals.options(options),Email.analyze(email,options)),isValid:(email,options)=>(options=internals.options(options),Email.isValid(email,options))}},internals.options=function(options){if(!options)return{tlds:internals.defaultTlds};if(!1===options.tlds)return options;if(!options.tlds||!0===options.tlds)return Object.assign({},options,{tlds:internals.defaultTlds});if("object"!=typeof options.tlds)throw new Error("Invalid options: tlds must be a boolean or an object");if(options.tlds.deny){if(options.tlds.deny instanceof Set==!1)throw new Error("Invalid options: tlds.deny must be a Set object");if(options.tlds.allow)throw new Error("Invalid options: cannot specify both tlds.allow and tlds.deny lists");return options}if(!0===options.tlds.allow)return Object.assign({},options,{tlds:internals.defaultTlds});if(options.tlds.allow instanceof Set==!1)throw new Error("Invalid options: tlds.allow must be a Set object or true");return options}},{"./domain":1,"./email":2,"./tlds":4}],4:[function(require,module,exports){"use strict";const internals={tlds:["AAA","AARP","ABARTH","ABB","ABBOTT","ABBVIE","ABC","ABLE","ABOGADO","ABUDHABI","AC","ACADEMY","ACCENTURE","ACCOUNTANT","ACCOUNTANTS","ACO","ACTOR","AD","ADAC","ADS","ADULT","AE","AEG","AERO","AETNA","AF","AFAMILYCOMPANY","AFL","AFRICA","AG","AGAKHAN","AGENCY","AI","AIG","AIGO","AIRBUS","AIRFORCE","AIRTEL","AKDN","AL","ALFAROMEO","ALIBABA","ALIPAY","ALLFINANZ","ALLSTATE","ALLY","ALSACE","ALSTOM","AM","AMERICANEXPRESS","AMERICANFAMILY","AMEX","AMFAM","AMICA","AMSTERDAM","ANALYTICS","ANDROID","ANQUAN","ANZ","AO","AOL","APARTMENTS","APP","APPLE","AQ","AQUARELLE","AR","ARAB","ARAMCO","ARCHI","ARMY","ARPA","ART","ARTE","AS","ASDA","ASIA","ASSOCIATES","AT","ATHLETA","ATTORNEY","AU","AUCTION","AUDI","AUDIBLE","AUDIO","AUSPOST","AUTHOR","AUTO","AUTOS","AVIANCA","AW","AWS","AX","AXA","AZ","AZURE","BA","BABY","BAIDU","BANAMEX","BANANAREPUBLIC","BAND","BANK","BAR","BARCELONA","BARCLAYCARD","BARCLAYS","BAREFOOT","BARGAINS","BASEBALL","BASKETBALL","BAUHAUS","BAYERN","BB","BBC","BBT","BBVA","BCG","BCN","BD","BE","BEATS","BEAUTY","BEER","BENTLEY","BERLIN","BEST","BESTBUY","BET","BF","BG","BH","BHARTI","BI","BIBLE","BID","BIKE","BING","BINGO","BIO","BIZ","BJ","BLACK","BLACKFRIDAY","BLOCKBUSTER","BLOG","BLOOMBERG","BLUE","BM","BMS","BMW","BN","BNPPARIBAS","BO","BOATS","BOEHRINGER","BOFA","BOM","BOND","BOO","BOOK","BOOKING","BOSCH","BOSTIK","BOSTON","BOT","BOUTIQUE","BOX","BR","BRADESCO","BRIDGESTONE","BROADWAY","BROKER","BROTHER","BRUSSELS","BS","BT","BUDAPEST","BUGATTI","BUILD","BUILDERS","BUSINESS","BUY","BUZZ","BV","BW","BY","BZ","BZH","CA","CAB","CAFE","CAL","CALL","CALVINKLEIN","CAM","CAMERA","CAMP","CANCERRESEARCH","CANON","CAPETOWN","CAPITAL","CAPITALONE","CAR","CARAVAN","CARDS","CARE","CAREER","CAREERS","CARS","CARTIER","CASA","CASE","CASEIH","CASH","CASINO","CAT","CATERING","CATHOLIC","CBA","CBN","CBRE","CBS","CC","CD","CEB","CENTER","CEO","CERN","CF","CFA","CFD","CG","CH","CHANEL","CHANNEL","CHARITY","CHASE","CHAT","CHEAP","CHINTAI","CHRISTMAS","CHROME","CHRYSLER","CHURCH","CI","CIPRIANI","CIRCLE","CISCO","CITADEL","CITI","CITIC","CITY","CITYEATS","CK","CL","CLAIMS","CLEANING","CLICK","CLINIC","CLINIQUE","CLOTHING","CLOUD","CLUB","CLUBMED","CM","CN","CO","COACH","CODES","COFFEE","COLLEGE","COLOGNE","COM","COMCAST","COMMBANK","COMMUNITY","COMPANY","COMPARE","COMPUTER","COMSEC","CONDOS","CONSTRUCTION","CONSULTING","CONTACT","CONTRACTORS","COOKING","COOKINGCHANNEL","COOL","COOP","CORSICA","COUNTRY","COUPON","COUPONS","COURSES","CR","CREDIT","CREDITCARD","CREDITUNION","CRICKET","CROWN","CRS","CRUISE","CRUISES","CSC","CU","CUISINELLA","CV","CW","CX","CY","CYMRU","CYOU","CZ","DABUR","DAD","DANCE","DATA","DATE","DATING","DATSUN","DAY","DCLK","DDS","DE","DEAL","DEALER","DEALS","DEGREE","DELIVERY","DELL","DELOITTE","DELTA","DEMOCRAT","DENTAL","DENTIST","DESI","DESIGN","DEV","DHL","DIAMONDS","DIET","DIGITAL","DIRECT","DIRECTORY","DISCOUNT","DISCOVER","DISH","DIY","DJ","DK","DM","DNP","DO","DOCS","DOCTOR","DODGE","DOG","DOMAINS","DOT","DOWNLOAD","DRIVE","DTV","DUBAI","DUCK","DUNLOP","DUPONT","DURBAN","DVAG","DVR","DZ","EARTH","EAT","EC","ECO","EDEKA","EDU","EDUCATION","EE","EG","EMAIL","EMERCK","ENERGY","ENGINEER","ENGINEERING","ENTERPRISES","EPSON","EQUIPMENT","ER","ERICSSON","ERNI","ES","ESQ","ESTATE","ESURANCE","ET","ETISALAT","EU","EUROVISION","EUS","EVENTS","EVERBANK","EXCHANGE","EXPERT","EXPOSED","EXPRESS","EXTRASPACE","FAGE","FAIL","FAIRWINDS","FAITH","FAMILY","FAN","FANS","FARM","FARMERS","FASHION","FAST","FEDEX","FEEDBACK","FERRARI","FERRERO","FI","FIAT","FIDELITY","FIDO","FILM","FINAL","FINANCE","FINANCIAL","FIRE","FIRESTONE","FIRMDALE","FISH","FISHING","FIT","FITNESS","FJ","FK","FLICKR","FLIGHTS","FLIR","FLORIST","FLOWERS","FLY","FM","FO","FOO","FOOD","FOODNETWORK","FOOTBALL","FORD","FOREX","FORSALE","FORUM","FOUNDATION","FOX","FR","FREE","FRESENIUS","FRL","FROGANS","FRONTDOOR","FRONTIER","FTR","FUJITSU","FUJIXEROX","FUN","FUND","FURNITURE","FUTBOL","FYI","GA","GAL","GALLERY","GALLO","GALLUP","GAME","GAMES","GAP","GARDEN","GAY","GB","GBIZ","GD","GDN","GE","GEA","GENT","GENTING","GEORGE","GF","GG","GGEE","GH","GI","GIFT","GIFTS","GIVES","GIVING","GL","GLADE","GLASS","GLE","GLOBAL","GLOBO","GM","GMAIL","GMBH","GMO","GMX","GN","GODADDY","GOLD","GOLDPOINT","GOLF","GOO","GOODYEAR","GOOG","GOOGLE","GOP","GOT","GOV","GP","GQ","GR","GRAINGER","GRAPHICS","GRATIS","GREEN","GRIPE","GROCERY","GROUP","GS","GT","GU","GUARDIAN","GUCCI","GUGE","GUIDE","GUITARS","GURU","GW","GY","HAIR","HAMBURG","HANGOUT","HAUS","HBO","HDFC","HDFCBANK","HEALTH","HEALTHCARE","HELP","HELSINKI","HERE","HERMES","HGTV","HIPHOP","HISAMITSU","HITACHI","HIV","HK","HKT","HM","HN","HOCKEY","HOLDINGS","HOLIDAY","HOMEDEPOT","HOMEGOODS","HOMES","HOMESENSE","HONDA","HORSE","HOSPITAL","HOST","HOSTING","HOT","HOTELES","HOTELS","HOTMAIL","HOUSE","HOW","HR","HSBC","HT","HU","HUGHES","HYATT","HYUNDAI","IBM","ICBC","ICE","ICU","ID","IE","IEEE","IFM","IKANO","IL","IM","IMAMAT","IMDB","IMMO","IMMOBILIEN","IN","INC","INDUSTRIES","INFINITI","INFO","ING","INK","INSTITUTE","INSURANCE","INSURE","INT","INTEL","INTERNATIONAL","INTUIT","INVESTMENTS","IO","IPIRANGA","IQ","IR","IRISH","IS","ISMAILI","IST","ISTANBUL","IT","ITAU","ITV","IVECO","JAGUAR","JAVA","JCB","JCP","JE","JEEP","JETZT","JEWELRY","JIO","JLL","JM","JMP","JNJ","JO","JOBS","JOBURG","JOT","JOY","JP","JPMORGAN","JPRS","JUEGOS","JUNIPER","KAUFEN","KDDI","KE","KERRYHOTELS","KERRYLOGISTICS","KERRYPROPERTIES","KFH","KG","KH","KI","KIA","KIM","KINDER","KINDLE","KITCHEN","KIWI","KM","KN","KOELN","KOMATSU","KOSHER","KP","KPMG","KPN","KR","KRD","KRED","KUOKGROUP","KW","KY","KYOTO","KZ","LA","LACAIXA","LADBROKES","LAMBORGHINI","LAMER","LANCASTER","LANCIA","LANCOME","LAND","LANDROVER","LANXESS","LASALLE","LAT","LATINO","LATROBE","LAW","LAWYER","LB","LC","LDS","LEASE","LECLERC","LEFRAK","LEGAL","LEGO","LEXUS","LGBT","LI","LIAISON","LIDL","LIFE","LIFEINSURANCE","LIFESTYLE","LIGHTING","LIKE","LILLY","LIMITED","LIMO","LINCOLN","LINDE","LINK","LIPSY","LIVE","LIVING","LIXIL","LK","LLC","LOAN","LOANS","LOCKER","LOCUS","LOFT","LOL","LONDON","LOTTE","LOTTO","LOVE","LPL","LPLFINANCIAL","LR","LS","LT","LTD","LTDA","LU","LUNDBECK","LUPIN","LUXE","LUXURY","LV","LY","MA","MACYS","MADRID","MAIF","MAISON","MAKEUP","MAN","MANAGEMENT","MANGO","MAP","MARKET","MARKETING","MARKETS","MARRIOTT","MARSHALLS","MASERATI","MATTEL","MBA","MC","MCKINSEY","MD","ME","MED","MEDIA","MEET","MELBOURNE","MEME","MEMORIAL","MEN","MENU","MERCKMSD","METLIFE","MG","MH","MIAMI","MICROSOFT","MIL","MINI","MINT","MIT","MITSUBISHI","MK","ML","MLB","MLS","MM","MMA","MN","MO","MOBI","MOBILE","MODA","MOE","MOI","MOM","MONASH","MONEY","MONSTER","MOPAR","MORMON","MORTGAGE","MOSCOW","MOTO","MOTORCYCLES","MOV","MOVIE","MOVISTAR","MP","MQ","MR","MS","MSD","MT","MTN","MTR","MU","MUSEUM","MUTUAL","MV","MW","MX","MY","MZ","NA","NAB","NADEX","NAGOYA","NAME","NATIONWIDE","NATURA","NAVY","NBA","NC","NE","NEC","NET","NETBANK","NETFLIX","NETWORK","NEUSTAR","NEW","NEWHOLLAND","NEWS","NEXT","NEXTDIRECT","NEXUS","NF","NFL","NG","NGO","NHK","NI","NICO","NIKE","NIKON","NINJA","NISSAN","NISSAY","NL","NO","NOKIA","NORTHWESTERNMUTUAL","NORTON","NOW","NOWRUZ","NOWTV","NP","NR","NRA","NRW","NTT","NU","NYC","NZ","OBI","OBSERVER","OFF","OFFICE","OKINAWA","OLAYAN","OLAYANGROUP","OLDNAVY","OLLO","OM","OMEGA","ONE","ONG","ONL","ONLINE","ONYOURSIDE","OOO","OPEN","ORACLE","ORANGE","ORG","ORGANIC","ORIGINS","OSAKA","OTSUKA","OTT","OVH","PA","PAGE","PANASONIC","PARIS","PARS","PARTNERS","PARTS","PARTY","PASSAGENS","PAY","PCCW","PE","PET","PF","PFIZER","PG","PH","PHARMACY","PHD","PHILIPS","PHONE","PHOTO","PHOTOGRAPHY","PHOTOS","PHYSIO","PIAGET","PICS","PICTET","PICTURES","PID","PIN","PING","PINK","PIONEER","PIZZA","PK","PL","PLACE","PLAY","PLAYSTATION","PLUMBING","PLUS","PM","PN","PNC","POHL","POKER","POLITIE","PORN","POST","PR","PRAMERICA","PRAXI","PRESS","PRIME","PRO","PROD","PRODUCTIONS","PROF","PROGRESSIVE","PROMO","PROPERTIES","PROPERTY","PROTECTION","PRU","PRUDENTIAL","PS","PT","PUB","PW","PWC","PY","QA","QPON","QUEBEC","QUEST","QVC","RACING","RADIO","RAID","RE","READ","REALESTATE","REALTOR","REALTY","RECIPES","RED","REDSTONE","REDUMBRELLA","REHAB","REISE","REISEN","REIT","RELIANCE","REN","RENT","RENTALS","REPAIR","REPORT","REPUBLICAN","REST","RESTAURANT","REVIEW","REVIEWS","REXROTH","RICH","RICHARDLI","RICOH","RIGHTATHOME","RIL","RIO","RIP","RMIT","RO","ROCHER","ROCKS","RODEO","ROGERS","ROOM","RS","RSVP","RU","RUGBY","RUHR","RUN","RW","RWE","RYUKYU","SA","SAARLAND","SAFE","SAFETY","SAKURA","SALE","SALON","SAMSCLUB","SAMSUNG","SANDVIK","SANDVIKCOROMANT","SANOFI","SAP","SARL","SAS","SAVE","SAXO","SB","SBI","SBS","SC","SCA","SCB","SCHAEFFLER","SCHMIDT","SCHOLARSHIPS","SCHOOL","SCHULE","SCHWARZ","SCIENCE","SCJOHNSON","SCOR","SCOT","SD","SE","SEARCH","SEAT","SECURE","SECURITY","SEEK","SELECT","SENER","SERVICES","SES","SEVEN","SEW","SEX","SEXY","SFR","SG","SH","SHANGRILA","SHARP","SHAW","SHELL","SHIA","SHIKSHA","SHOES","SHOP","SHOPPING","SHOUJI","SHOW","SHOWTIME","SHRIRAM","SI","SILK","SINA","SINGLES","SITE","SJ","SK","SKI","SKIN","SKY","SKYPE","SL","SLING","SM","SMART","SMILE","SN","SNCF","SO","SOCCER","SOCIAL","SOFTBANK","SOFTWARE","SOHU","SOLAR","SOLUTIONS","SONG","SONY","SOY","SPACE","SPORT","SPOT","SPREADBETTING","SR","SRL","SRT","SS","ST","STADA","STAPLES","STAR","STATEBANK","STATEFARM","STC","STCGROUP","STOCKHOLM","STORAGE","STORE","STREAM","STUDIO","STUDY","STYLE","SU","SUCKS","SUPPLIES","SUPPLY","SUPPORT","SURF","SURGERY","SUZUKI","SV","SWATCH","SWIFTCOVER","SWISS","SX","SY","SYDNEY","SYMANTEC","SYSTEMS","SZ","TAB","TAIPEI","TALK","TAOBAO","TARGET","TATAMOTORS","TATAR","TATTOO","TAX","TAXI","TC","TCI","TD","TDK","TEAM","TECH","TECHNOLOGY","TEL","TELEFONICA","TEMASEK","TENNIS","TEVA","TF","TG","TH","THD","THEATER","THEATRE","TIAA","TICKETS","TIENDA","TIFFANY","TIPS","TIRES","TIROL","TJ","TJMAXX","TJX","TK","TKMAXX","TL","TM","TMALL","TN","TO","TODAY","TOKYO","TOOLS","TOP","TORAY","TOSHIBA","TOTAL","TOURS","TOWN","TOYOTA","TOYS","TR","TRADE","TRADING","TRAINING","TRAVEL","TRAVELCHANNEL","TRAVELERS","TRAVELERSINSURANCE","TRUST","TRV","TT","TUBE","TUI","TUNES","TUSHU","TV","TVS","TW","TZ","UA","UBANK","UBS","UCONNECT","UG","UK","UNICOM","UNIVERSITY","UNO","UOL","UPS","US","UY","UZ","VA","VACATIONS","VANA","VANGUARD","VC","VE","VEGAS","VENTURES","VERISIGN","VERSICHERUNG","VET","VG","VI","VIAJES","VIDEO","VIG","VIKING","VILLAS","VIN","VIP","VIRGIN","VISA","VISION","VISTAPRINT","VIVA","VIVO","VLAANDEREN","VN","VODKA","VOLKSWAGEN","VOLVO","VOTE","VOTING","VOTO","VOYAGE","VU","VUELOS","WALES","WALMART","WALTER","WANG","WANGGOU","WARMAN","WATCH","WATCHES","WEATHER","WEATHERCHANNEL","WEBCAM","WEBER","WEBSITE","WED","WEDDING","WEIBO","WEIR","WF","WHOSWHO","WIEN","WIKI","WILLIAMHILL","WIN","WINDOWS","WINE","WINNERS","WME","WOLTERSKLUWER","WOODSIDE","WORK","WORKS","WORLD","WOW","WS","WTC","WTF","XBOX","XEROX","XFINITY","XIHUAN","XIN","XN--11B4C3D","XN--1CK2E1B","XN--1QQW23A","XN--2SCRJ9C","XN--30RR7Y","XN--3BST00M","XN--3DS443G","XN--3E0B707E","XN--3HCRJ9C","XN--3OQ18VL8PN36A","XN--3PXU8K","XN--42C2D9A","XN--45BR5CYL","XN--45BRJ9C","XN--45Q11C","XN--4GBRIM","XN--54B7FTA0CC","XN--55QW42G","XN--55QX5D","XN--5SU34J936BGSG","XN--5TZM5G","XN--6FRZ82G","XN--6QQ986B3XL","XN--80ADXHKS","XN--80AO21A","XN--80AQECDR1A","XN--80ASEHDB","XN--80ASWG","XN--8Y0A063A","XN--90A3AC","XN--90AE","XN--90AIS","XN--9DBQ2A","XN--9ET52U","XN--9KRT00A","XN--B4W605FERD","XN--BCK1B9A5DRE4C","XN--C1AVG","XN--C2BR7G","XN--CCK2B3B","XN--CG4BKI","XN--CLCHC0EA0B2G2A9GCD","XN--CZR694B","XN--CZRS0T","XN--CZRU2D","XN--D1ACJ3B","XN--D1ALF","XN--E1A4C","XN--ECKVDTC9D","XN--EFVY88H","XN--ESTV75G","XN--FCT429K","XN--FHBEI","XN--FIQ228C5HS","XN--FIQ64B","XN--FIQS8S","XN--FIQZ9S","XN--FJQ720A","XN--FLW351E","XN--FPCRJ9C3D","XN--FZC2C9E2C","XN--FZYS8D69UVGM","XN--G2XX48C","XN--GCKR3F0F","XN--GECRJ9C","XN--GK3AT1E","XN--H2BREG3EVE","XN--H2BRJ9C","XN--H2BRJ9C8C","XN--HXT814E","XN--I1B6B1A6A2E","XN--IMR513N","XN--IO0A7I","XN--J1AEF","XN--J1AMH","XN--J6W193G","XN--JLQ61U9W7B","XN--JVR189M","XN--KCRX77D1X4A","XN--KPRW13D","XN--KPRY57D","XN--KPU716F","XN--KPUT3I","XN--L1ACC","XN--LGBBAT1AD8J","XN--MGB9AWBF","XN--MGBA3A3EJT","XN--MGBA3A4F16A","XN--MGBA7C0BBN0A","XN--MGBAAKC7DVF","XN--MGBAAM7A8H","XN--MGBAB2BD","XN--MGBAH1A3HJKRD","XN--MGBAI9AZGQP6J","XN--MGBAYH7GPA","XN--MGBBH1A","XN--MGBBH1A71E","XN--MGBC0A9AZCG","XN--MGBCA7DZDO","XN--MGBERP4A5D4AR","XN--MGBGU82A","XN--MGBI4ECEXP","XN--MGBPL2FH","XN--MGBT3DHD","XN--MGBTX2B","XN--MGBX4CD0AB","XN--MIX891F","XN--MK1BU44C","XN--MXTQ1M","XN--NGBC5AZD","XN--NGBE9E0A","XN--NGBRX","XN--NODE","XN--NQV7F","XN--NQV7FS00EMA","XN--NYQY26A","XN--O3CW4H","XN--OGBPF8FL","XN--OTU796D","XN--P1ACF","XN--P1AI","XN--PBT977C","XN--PGBS0DH","XN--PSSY2U","XN--Q9JYB4C","XN--QCKA1PMC","XN--QXA6A","XN--QXAM","XN--RHQV96G","XN--ROVU88B","XN--RVC1E0AM3E","XN--S9BRJ9C","XN--SES554G","XN--T60B56A","XN--TCKWE","XN--TIQ49XQYJ","XN--UNUP4Y","XN--VERMGENSBERATER-CTB","XN--VERMGENSBERATUNG-PWB","XN--VHQUV","XN--VUQ861B","XN--W4R85EL8FHU5DNRA","XN--W4RS40L","XN--WGBH1C","XN--WGBL6A","XN--XHQ521B","XN--XKC2AL3HYE2A","XN--XKC2DL3A5EE0H","XN--Y9A3AQ","XN--YFRO4I67O","XN--YGBI2AMMX","XN--ZFR164B","XXX","XYZ","YACHTS","YAHOO","YAMAXUN","YANDEX","YE","YODOBASHI","YOGA","YOKOHAMA","YOU","YOUTUBE","YT","YUN","ZA","ZAPPOS","ZARA","ZERO","ZIP","ZM","ZONE","ZUERICH","ZW"]};module.exports=new Set(internals.tlds.map(tld=>tld.toLowerCase()))},{}],5:[function(require,module,exports){"use strict";const internals_suspectRx=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/;exports.parse=function(text,reviver,options){options||(reviver&&"object"==typeof reviver?(options=reviver,reviver=void 0):options={});const obj=JSON.parse(text,reviver);return"ignore"===options.protoAction?obj:obj&&"object"==typeof obj&&text.match(internals_suspectRx)?(exports.scan(obj,options),obj):obj},exports.scan=function(obj,options){options=options||{};let next=[obj];for(;next.length;){const nodes=next;next=[];for(const node of nodes){if(Object.prototype.hasOwnProperty.call(node,"__proto__")){if("remove"!==options.protoAction)throw new SyntaxError("Object contains forbidden prototype property");delete node.__proto__}for(const key in node){const value=node[key];value&&"object"==typeof value&&next.push(node[key])}}}},exports.safeParse=function(text,reviver){try{return exports.parse(text,reviver)}catch(ignoreError){return null}}},{}],6:[function(require,module,exports){"use strict";const Assert=require("./assert"),Clone=require("./clone"),Merge=require("./merge"),Utils=require("./utils"),internals={};module.exports=function(defaults,source,options={}){if(Assert(defaults&&"object"==typeof defaults,"Invalid defaults value: must be an object"),Assert(!source||!0===source||"object"==typeof source,"Invalid source value: must be true, falsy or an object"),Assert("object"==typeof options,"Invalid options: must be an object"),!source)return null;if(options.shallow)return internals.applyToDefaultsWithShallow(defaults,source,options);const copy=Clone(defaults);if(!0===source)return copy;const nullOverride=void 0!==options.nullOverride&&options.nullOverride;return Merge(copy,source,{nullOverride:nullOverride,mergeArrays:!1})},internals.applyToDefaultsWithShallow=function(defaults,source,options){const keys=options.shallow;Assert(Array.isArray(keys),"Invalid keys"),(options=Object.assign({},options)).shallow=!1;const copy=Clone(defaults,{shallow:keys});if(!0===source)return copy;const storage=Utils.store(source,keys);return Merge(copy,source,{mergeArrays:!1,nullOverride:!1}),Utils.restore(copy,source,storage),copy}},{"./assert":7,"./clone":10,"./merge":23,"./utils":29}],7:[function(require,module,exports){"use strict";const AssertError=require("./error");module.exports=function(condition,...args){if(!condition){if(1===args.length&&args[0]instanceof Error)throw args[0];throw new AssertError(args)}}},{"./error":13}],8:[function(require,module,exports){(function(process){"use strict";const internals={};module.exports=internals.Bench=class{constructor(){this.ts=0,this.reset()}reset(){this.ts=internals.Bench.now()}elapsed(){return internals.Bench.now()-this.ts}static now(){const ts=process.hrtime();return 1e3*ts[0]+ts[1]/1e6}}}).call(this,require("_process"))},{_process:66}],9:[function(require,module,exports){"use strict";const Ignore=require("./ignore");module.exports=function(){return new Promise(Ignore)}},{"./ignore":19}],10:[function(require,module,exports){(function(Buffer){"use strict";const Types=require("./types"),Utils=require("./utils"),internals={needsProtoHack:new Set([Types.set,Types.map,Types.weakSet,Types.weakMap])};module.exports=internals.clone=function(obj,options={},_seen=null){if("object"!=typeof obj||null===obj)return obj;let clone=internals.clone,seen=_seen;if(options.shallow){if(!0!==options.shallow)return internals.cloneWithShallow(obj,options);clone=(value=>value)}else{const lookup=(seen=seen||new Map).get(obj);if(lookup)return lookup}const baseProto=Types.getInternalProto(obj);if(baseProto===Types.buffer)return Buffer&&Buffer.from(obj);if(baseProto===Types.date)return new Date(obj.getTime());if(baseProto===Types.regex)return new RegExp(obj);const newObj=internals.base(obj,baseProto,options);if(newObj===obj)return obj;if(seen&&seen.set(obj,newObj),baseProto===Types.set)for(const value of obj)newObj.add(clone(value,options,seen));else if(baseProto===Types.map)for(const[key,value]of obj)newObj.set(key,clone(value,options,seen));const keys=Utils.keys(obj,options);for(const key of keys){if("__proto__"===key)continue;if(baseProto===Types.array&&"length"===key){newObj.length=obj.length;continue}const descriptor=Object.getOwnPropertyDescriptor(obj,key);descriptor?descriptor.get||descriptor.set?Object.defineProperty(newObj,key,descriptor):descriptor.enumerable?newObj[key]=clone(obj[key],options,seen):Object.defineProperty(newObj,key,{enumerable:!1,writable:!0,configurable:!0,value:clone(obj[key],options,seen)}):Object.defineProperty(newObj,key,{enumerable:!0,writable:!0,configurable:!0,value:clone(obj[key],options,seen)})}return newObj},internals.cloneWithShallow=function(source,options){const keys=options.shallow;(options=Object.assign({},options)).shallow=!1;const storage=Utils.store(source,keys),copy=internals.clone(source,options);return Utils.restore(copy,source,storage),copy},internals.base=function(obj,baseProto,options){if(baseProto===Types.array)return[];if(!1===options.prototype)return internals.needsProtoHack.has(baseProto)?new baseProto.constructor:{};const proto=Object.getPrototypeOf(obj);if(proto&&proto.isImmutable)return obj;if(internals.needsProtoHack.has(baseProto)){const newObj=new proto.constructor;return proto!==baseProto&&Object.setPrototypeOf(newObj,proto),newObj}return Object.create(proto)}}).call(this,require("buffer").Buffer)},{"./types":28,"./utils":29,buffer:63}],11:[function(require,module,exports){"use strict";const Assert=require("./assert"),DeepEqual=require("./deepEqual"),EscapeRegex=require("./escapeRegex"),Utils=require("./utils"),internals={};module.exports=function(ref,values,options={}){return"object"!=typeof values&&(values=[values]),Assert(!Array.isArray(values)||values.length,"Values array cannot be empty"),"string"==typeof ref?internals.string(ref,values,options):Array.isArray(ref)?internals.array(ref,values,options):(Assert("object"==typeof ref,"Reference must be string or an object"),internals.object(ref,values,options))},internals.array=function(ref,values,options){if(Array.isArray(values)||(values=[values]),!ref.length)return!1;if(options.only&&options.once&&ref.length!==values.length)return!1;let compare;const map=new Map;for(const value of values)if(options.deep&&value&&"object"==typeof value){compare=compare||internals.compare(options);let found=!1;for(const[key,existing]of map.entries())if(compare(key,value)){++existing.allowed,found=!0;break}found||map.set(value,{allowed:1,hits:0})}else{const existing=map.get(value);existing?++existing.allowed:map.set(value,{allowed:1,hits:0})}let hits=0;for(const item of ref){let match;if(options.deep&&item&&"object"==typeof item){for(const[key,existing]of map.entries())if(compare(key,item)){match=existing;break}}else match=map.get(item);if(match&&(++match.hits,++hits,options.once&&match.hits>match.allowed))return!1}if(options.only&&hits!==ref.length)return!1;for(const match of map.values())if(match.hits!==match.allowed&&match.hits<match.allowed&&!options.part)return!1;return!!hits},internals.object=function(ref,values,options){Assert(void 0===options.once,"Cannot use option once with object");const keys=Utils.keys(ref,options);if(!keys.length)return!1;if(Array.isArray(values))return internals.array(keys,values,options);const symbols=Object.getOwnPropertySymbols(values).filter(sym=>values.propertyIsEnumerable(sym)),targets=[...Object.keys(values),...symbols],compare=internals.compare(options),set=new Set(targets);for(const key of keys)if(set.has(key)){if(!compare(values[key],ref[key]))return!1;set.delete(key)}else if(options.only)return!1;return!set.size||!!options.part&&set.size<targets.length},internals.string=function(ref,values,options){if(""===ref)return 1===values.length&&""===values[0]||!options.once&&!values.some(v=>""!==v);const map=new Map,patterns=[];for(const value of values)if(Assert("string"==typeof value,"Cannot compare string reference to non-string value"),value){const existing=map.get(value);existing?++existing.allowed:(map.set(value,{allowed:1,hits:0}),patterns.push(EscapeRegex(value)))}else if(options.once||options.only)return!1;if(!patterns.length)return!0;const regex=new RegExp(`(${patterns.join("|")})`,"g"),leftovers=ref.replace(regex,($0,$1)=>(++map.get($1).hits,""));if(options.only&&leftovers)return!1;let any=!1;for(const match of map.values())if(match.hits&&(any=!0),match.hits!==match.allowed){if(match.hits<match.allowed&&!options.part)return!1;if(options.once)return!1}return!!any},internals.compare=function(options){if(!options.deep)return internals.shallow;const hasOnly=void 0!==options.only,hasPart=void 0!==options.part,flags={prototype:hasOnly?options.only:!!hasPart&&!options.part,part:hasOnly?!options.only:!!hasPart&&options.part};return(a,b)=>DeepEqual(a,b,flags)},internals.shallow=function(a,b){return a===b}},{"./assert":7,"./deepEqual":12,"./escapeRegex":17,"./utils":29}],12:[function(require,module,exports){(function(Buffer){"use strict";const Types=require("./types"),internals={mismatched:null};module.exports=function(obj,ref,options){return options=Object.assign({prototype:!0},options),!!internals.isDeepEqual(obj,ref,options,[])},internals.isDeepEqual=function(obj,ref,options,seen){if(obj===ref)return 0!==obj||1/obj==1/ref;const type=typeof obj;if(type!==typeof ref)return!1;if(null===obj||null===ref)return!1;if("function"===type){if(!options.deepFunction||obj.toString()!==ref.toString())return!1}else if("object"!==type)return obj!=obj&&ref!=ref;const instanceType=internals.getSharedType(obj,ref,!!options.prototype);switch(instanceType){case Types.buffer:return Buffer&&Buffer.prototype.equals.call(obj,ref);case Types.promise:return obj===ref;case Types.regex:return obj.toString()===ref.toString();case internals.mismatched:return!1}for(let i=seen.length-1;i>=0;--i)if(seen[i].isSame(obj,ref))return!0;seen.push(new internals.SeenEntry(obj,ref));try{return!!internals.isDeepEqualObj(instanceType,obj,ref,options,seen)}finally{seen.pop()}},internals.getSharedType=function(obj,ref,checkPrototype){if(checkPrototype)return Object.getPrototypeOf(obj)!==Object.getPrototypeOf(ref)?internals.mismatched:Types.getInternalProto(obj);const type=Types.getInternalProto(obj);return type!==Types.getInternalProto(ref)?internals.mismatched:type},internals.valueOf=function(obj){const objValueOf=obj.valueOf;if(void 0===objValueOf)return obj;try{return objValueOf.call(obj)}catch(err){return err}},internals.hasOwnEnumerableProperty=function(obj,key){return Object.prototype.propertyIsEnumerable.call(obj,key)},internals.isSetSimpleEqual=function(obj,ref){for(const entry of obj)if(!ref.has(entry))return!1;return!0},internals.isDeepEqualObj=function(instanceType,obj,ref,options,seen){const{isDeepEqual:isDeepEqual,valueOf:valueOf,hasOwnEnumerableProperty:hasOwnEnumerableProperty}=internals,{keys:keys,getOwnPropertySymbols:getOwnPropertySymbols}=Object;if(instanceType===Types.array){if(!options.part){if(obj.length!==ref.length)return!1;for(let i=0;i<obj.length;++i)if(!isDeepEqual(obj[i],ref[i],options,seen))return!1;return!0}for(const objValue of obj)for(const refValue of ref)if(isDeepEqual(objValue,refValue,options,seen))return!0}else if(instanceType===Types.set){if(obj.size!==ref.size)return!1;if(!internals.isSetSimpleEqual(obj,ref)){const ref2=new Set(ref);for(const objEntry of obj){if(ref2.delete(objEntry))continue;let found=!1;for(const refEntry of ref2)if(isDeepEqual(objEntry,refEntry,options,seen)){ref2.delete(refEntry),found=!0;break}if(!found)return!1}}}else if(instanceType===Types.map){if(obj.size!==ref.size)return!1;for(const[key,value]of obj){if(void 0===value&&!ref.has(key))return!1;if(!isDeepEqual(value,ref.get(key),options,seen))return!1}}else if(instanceType===Types.error&&(obj.name!==ref.name||obj.message!==ref.message))return!1;const valueOfObj=valueOf(obj),valueOfRef=valueOf(ref);if((obj!==valueOfObj||ref!==valueOfRef)&&!isDeepEqual(valueOfObj,valueOfRef,options,seen))return!1;const objKeys=keys(obj);if(!options.part&&objKeys.length!==keys(ref).length&&!options.skip)return!1;let skipped=0;for(const key of objKeys)if(options.skip&&options.skip.includes(key))void 0===ref[key]&&++skipped;else{if(!hasOwnEnumerableProperty(ref,key))return!1;if(!isDeepEqual(obj[key],ref[key],options,seen))return!1}if(!options.part&&objKeys.length-skipped!==keys(ref).length)return!1;if(!1!==options.symbols){const objSymbols=getOwnPropertySymbols(obj),refSymbols=new Set(getOwnPropertySymbols(ref));for(const key of objSymbols){if(!options.skip||!options.skip.includes(key))if(hasOwnEnumerableProperty(obj,key)){if(!hasOwnEnumerableProperty(ref,key))return!1;if(!isDeepEqual(obj[key],ref[key],options,seen))return!1}else if(hasOwnEnumerableProperty(ref,key))return!1;refSymbols.delete(key)}for(const key of refSymbols)if(hasOwnEnumerableProperty(ref,key))return!1}return!0},internals.SeenEntry=class{constructor(obj,ref){this.obj=obj,this.ref=ref}isSame(obj,ref){return this.obj===obj&&this.ref===ref}}}).call(this,require("buffer").Buffer)},{"./types":28,buffer:63}],13:[function(require,module,exports){"use strict";const Stringify=require("./stringify");module.exports=class extends Error{constructor(args){super(args.filter(arg=>""!==arg).map(arg=>"string"==typeof arg?arg:arg instanceof Error?arg.message:Stringify(arg)).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,exports.assert)}}},{"./stringify":27}],14:[function(require,module,exports){"use strict";const Assert=require("./assert");module.exports=function(attribute){return Assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(attribute),"Bad attribute value ("+attribute+")"),attribute.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')}},{"./assert":7}],15:[function(require,module,exports){"use strict";const internals={};module.exports=function(input){if(!input)return"";let escaped="";for(let i=0;i<input.length;++i){const charCode=input.charCodeAt(i);internals.isSafe(charCode)?escaped+=input[i]:escaped+=internals.escapeHtmlChar(charCode)}return escaped},internals.escapeHtmlChar=function(charCode){const namedEscape=internals.namedHtml[charCode];return void 0!==namedEscape?namedEscape:charCode>=256?"&#"+charCode+";":`&#x${charCode.toString(16).padStart(2,"0")};`},internals.isSafe=function(charCode){return void 0!==internals.safeCharCodes[charCode]},internals.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},internals.safeCharCodes=function(){const safe={};for(let i=32;i<123;++i)(i>=97||i>=65&&i<=90||i>=48&&i<=57||32===i||46===i||44===i||45===i||58===i||95===i)&&(safe[i]=null);return safe}()},{}],16:[function(require,module,exports){"use strict";module.exports=function(input){if(!input)return"";let charCode;return input.replace(/[<>&\u2028\u2029]/g,match=>60===(charCode=match.charCodeAt(0))?"\\u003c":62===charCode?"\\u003e":38===charCode?"\\u0026":8232===charCode?"\\u2028":"\\u2029")}},{}],17:[function(require,module,exports){"use strict";module.exports=function(string){return string.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},{}],18:[function(require,module,exports){"use strict";const internals={};module.exports=internals.flatten=function(array,target){const result=target||[];for(let i=0;i<array.length;++i)Array.isArray(array[i])?internals.flatten(array[i],result):result.push(array[i]);return result}},{}],19:[function(require,module,exports){"use strict";module.exports=function(){}},{}],20:[function(require,module,exports){"use strict";module.exports={applyToDefaults:require("./applyToDefaults"),assert:require("./assert"),Bench:require("./bench"),block:require("./block"),clone:require("./clone"),contain:require("./contain"),deepEqual:require("./deepEqual"),Error:require("./error"),escapeHeaderAttribute:require("./escapeHeaderAttribute"),escapeHtml:require("./escapeHtml"),escapeJson:require("./escapeJson"),escapeRegex:require("./escapeRegex"),flatten:require("./flatten"),ignore:require("./ignore"),intersect:require("./intersect"),isPromise:require("./isPromise"),merge:require("./merge"),once:require("./once"),reach:require("./reach"),reachTemplate:require("./reachTemplate"),stringify:require("./stringify"),wait:require("./wait")}},{"./applyToDefaults":6,"./assert":7,"./bench":8,"./block":9,"./clone":10,"./contain":11,"./deepEqual":12,"./error":13,"./escapeHeaderAttribute":14,"./escapeHtml":15,"./escapeJson":16,"./escapeRegex":17,"./flatten":18,"./ignore":19,"./intersect":21,"./isPromise":22,"./merge":23,"./once":24,"./reach":25,"./reachTemplate":26,"./stringify":27,"./wait":30}],21:[function(require,module,exports){"use strict";const internals={};module.exports=function(array1,array2,options={}){if(!array1||!array2)return options.first?null:[];const common=[],hash=Array.isArray(array1)?new Set(array1):array1,found=new Set;for(const value of array2)if(internals.has(hash,value)&&!found.has(value)){if(options.first)return value;common.push(value),found.add(value)}return options.first?null:common},internals.has=function(ref,key){return"function"==typeof ref.has?ref.has(key):void 0!==ref[key]}},{}],22:[function(require,module,exports){"use strict";module.exports=function(promise){return!!promise&&"function"==typeof promise.then}},{}],23:[function(require,module,exports){(function(Buffer){"use strict";const Assert=require("./assert"),Clone=require("./clone"),Utils=require("./utils"),internals={};module.exports=internals.merge=function(target,source,options){if(Assert(target&&"object"==typeof target,"Invalid target value: must be an object"),Assert(null==source||"object"==typeof source,"Invalid source value: must be null, undefined, or an object"),!source)return target;if(options=Object.assign({nullOverride:!0,mergeArrays:!0},options),Array.isArray(source)){Assert(Array.isArray(target),"Cannot merge array onto an object"),options.mergeArrays||(target.length=0);for(let i=0;i<source.length;++i)target.push(Clone(source[i],{symbols:options.symbols}));return target}const keys=Utils.keys(source,options);for(let i=0;i<keys.length;++i){const key=keys[i];if("__proto__"===key||!Object.prototype.propertyIsEnumerable.call(source,key))continue;const value=source[key];value&&"object"==typeof value?!target[key]||"object"!=typeof target[key]||Array.isArray(target[key])!==Array.isArray(value)||value instanceof Date||Buffer&&Buffer.isBuffer(value)||value instanceof RegExp?target[key]=Clone(value,{symbols:options.symbols}):internals.merge(target[key],value,options):null!=value?target[key]=value:options.nullOverride&&(target[key]=value)}return target}}).call(this,require("buffer").Buffer)},{"./assert":7,"./clone":10,"./utils":29,buffer:63}],24:[function(require,module,exports){"use strict";module.exports=function(method){if(method._hoekOnce)return method;let once=!1;const wrapped=function(...args){once||(once=!0,method(...args))};return wrapped._hoekOnce=!0,wrapped}},{}],25:[function(require,module,exports){"use strict";const Assert=require("./assert"),internals={};module.exports=function(obj,chain,options){if(!1===chain||null==chain)return obj;"string"==typeof(options=options||{})&&(options={separator:options});const isChainArray=Array.isArray(chain);Assert(!isChainArray||!options.separator,"Separator option no valid for array-based chain");const path=isChainArray?chain:chain.split(options.separator||".");let ref=obj;for(let i=0;i<path.length;++i){let key=path[i];const type=options.iterables&&internals.iterables(ref);if(Array.isArray(ref)||"set"===type){const number=Number(key);Number.isInteger(number)&&(key=number<0?ref.length+number:number)}if(!ref||"function"==typeof ref&&!1===options.functions||!type&&void 0===ref[key]){Assert(!options.strict||i+1===path.length,"Missing segment",key,"in reach path ",chain),Assert("object"==typeof ref||!0===options.functions||"function"!=typeof ref,"Invalid segment",key,"in reach path ",chain),ref=options.default;break}ref=type?"set"===type?[...ref][key]:ref.get(key):ref[key]}return ref},internals.iterables=function(ref){return ref instanceof Set?"set":ref instanceof Map?"map":void 0}},{"./assert":7}],26:[function(require,module,exports){"use strict";const Reach=require("./reach");module.exports=function(obj,template,options){return template.replace(/{([^}]+)}/g,($0,chain)=>{const value=Reach(obj,chain,options);return null==value?"":value})}},{"./reach":25}],27:[function(require,module,exports){"use strict";module.exports=function(...args){try{return JSON.stringify.apply(null,args)}catch(err){return"[Cannot display object: "+err.message+"]"}}},{}],28:[function(require,module,exports){(function(Buffer){"use strict";const internals={};exports=module.exports={array:Array.prototype,buffer:Buffer&&Buffer.prototype,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},internals.typeMap=new Map([["[object Error]",exports.error],["[object Map]",exports.map],["[object Promise]",exports.promise],["[object Set]",exports.set],["[object WeakMap]",exports.weakMap],["[object WeakSet]",exports.weakSet]]),exports.getInternalProto=function(obj){if(Array.isArray(obj))return exports.array;if(Buffer&&obj instanceof Buffer)return exports.buffer;if(obj instanceof Date)return exports.date;if(obj instanceof RegExp)return exports.regex;if(obj instanceof Error)return exports.error;const objName=Object.prototype.toString.call(obj);return internals.typeMap.get(objName)||exports.generic}}).call(this,require("buffer").Buffer)},{buffer:63}],29:[function(require,module,exports){"use strict";const Reach=require("./reach"),internals={};exports.keys=function(obj,options={}){return!1!==options.symbols?Reflect.ownKeys(obj):Object.getOwnPropertyNames(obj)},exports.store=function(source,keys){const storage=new Map;for(let i=0;i<keys.length;++i){const key=keys[i],value=Reach(source,key);"object"!=typeof value&&"function"!=typeof value||(storage.set(key,value),internals.reachSet(source,key,void 0))}return storage},exports.restore=function(copy,source,storage){for(const[key,value]of storage)internals.reachSet(copy,key,value),internals.reachSet(source,key,value)},internals.reachSet=function(obj,key,value){const path=Array.isArray(key)?key:key.split(".");let ref=obj;for(let i=0;i<path.length;++i){const segment=path[i];i+1===path.length&&(ref[segment]=value),ref=ref[segment]}}},{"./reach":25}],30:[function(require,module,exports){"use strict";module.exports=function(timeout){return new Promise(resolve=>setTimeout(resolve,timeout))}},{}],31:[function(require,module,exports){"use strict";const Hoek=require("@hapi/hoek"),Ref=require("./ref");exports.schema=function(Joi,config){return null!=config&&"object"==typeof config?config.isJoi?config:Array.isArray(config)?Joi.alternatives().try(config):config instanceof RegExp?Joi.string().regex(config):config instanceof Date?Joi.date().valid(config):Joi.object().keys(config):"string"==typeof config?Joi.string().valid(config):"number"==typeof config?Joi.number().valid(config):"boolean"==typeof config?Joi.boolean().valid(config):Ref.isRef(config)?Joi.valid(config):(Hoek.assert(null===config,"Invalid schema content:",config),Joi.valid(null))},exports.ref=function(id){return Ref.isRef(id)?id:Ref.create(id)}},{"./ref":34,"@hapi/hoek":20}],32:[function(require,module,exports){"use strict";const Hoek=require("@hapi/hoek"),Language=require("./language"),internals={annotations:Symbol("joi-annotations"),stringify:function(value,wrapArrays){const type=typeof value;if(null===value)return"null";if("string"===type)return value;if(value instanceof exports.Err||"function"===type||"symbol"===type)return value.toString();if("object"===type){if(Array.isArray(value)){let partial="";for(let i=0;i<value.length;++i)partial=partial+(partial.length?", ":"")+internals.stringify(value[i],wrapArrays);return wrapArrays?"["+partial+"]":partial}return value.toString()}return JSON.stringify(value)}};exports.Err=class{constructor(type,context,state,options,flags,message,template){this.isJoi=!0,this.type=type,this.context=context||{},this.context.key=state.path[state.path.length-1],this.context.label=state.key,this.path=state.path,this.options=options,this.flags=flags,this.message=message,this.template=template;const localized=this.options.language;this.flags.label?this.context.label=this.flags.label:!localized||""!==this.context.label&&null!==this.context.label||(this.context.label=localized.root||Language.errors.root)}toString(){if(this.message)return this.message;let format;this.template&&(format=this.template);const localized=this.options.language;if(void 0===(format=format||Hoek.reach(localized,this.type)||Hoek.reach(Language.errors,this.type)))return`Error code "${this.type}" is not defined, your custom type is missing the correct language definition`;let wrapArrays=Hoek.reach(localized,"messages.wrapArrays");if("boolean"!=typeof wrapArrays&&(wrapArrays=Language.errors.messages.wrapArrays),null===format){const childrenString=internals.stringify(this.context.reason,wrapArrays);return wrapArrays?childrenString.slice(1,-1):childrenString}const hasKey=/{{!?label}}/.test(format),skipKey=format.length>2&&"!"===format[0]&&"!"===format[1];if(skipKey&&(format=format.slice(2)),!hasKey&&!skipKey){const localizedKey=Hoek.reach(localized,"key");format="string"==typeof localizedKey?localizedKey+format:Hoek.reach(Language.errors,"key")+format}const message=format.replace(/{{(!?)([^}]+)}}/g,($0,isSecure,name)=>{const value=Hoek.reach(this.context,name),normalized=internals.stringify(value,wrapArrays);return isSecure&&this.options.escapeHtml?Hoek.escapeHtml(normalized):normalized});return this.toString=(()=>message),message}},exports.create=function(type,context,state,options,flags,message,template){return new exports.Err(type,context,state,options,flags,message,template)},exports.process=function(errors,object){if(!errors)return null;let message="";const details=[],processErrors=function(localErrors,parent,overrideMessage){for(let i=0;i<localErrors.length;++i){const item=localErrors[i];if(item instanceof Error)return item;if(item.flags.error&&"function"!=typeof item.flags.error&&(!item.flags.selfError||!item.context.reason))return item.flags.error;let itemMessage;if(void 0===parent&&(itemMessage=item.toString(),message=message+(message?". ":"")+itemMessage),item.context.reason){const override=processErrors(item.context.reason,item.path,"override"===item.type?item.message:null);if(override)return override}else details.push({message:overrideMessage||itemMessage||item.toString(),path:item.path,type:item.type,context:item.context})}},override=processErrors(errors);if(override)return override;const error=new Error(message);return error.isJoi=!0,error.name="ValidationError",error.details=details,error._object=object,error.annotate=internals.annotate,error},internals.safeStringify=function(obj,spaces){return JSON.stringify(obj,internals.serializer(),spaces)},internals.serializer=function(){const keys=[],stack=[];return function(key,value){if(stack.length>0){const thisPos=stack.indexOf(this);~thisPos?(stack.length=thisPos+1,keys.length=thisPos+1,keys[thisPos]=key):(stack.push(this),keys.push(key)),~stack.indexOf(value)&&(value=((key,value)=>stack[0]===value?"[Circular ~]":"[Circular ~."+keys.slice(0,stack.indexOf(value)).join(".")+"]").call(this,key,value))}else stack.push(value);if(value){const annotations=value[internals.annotations];if(annotations){if(Array.isArray(value)){const annotated=[];for(let i=0;i<value.length;++i)annotations.errors[i]&&annotated.push(`_$idx$_${annotations.errors[i].sort().join(", ")}_$end$_`),annotated.push(value[i]);value=annotated}else{const errorKeys=Object.keys(annotations.errors);for(let i=0;i<errorKeys.length;++i){const errorKey=errorKeys[i];value[`${errorKey}_$key$_${annotations.errors[errorKey].sort().join(", ")}_$end$_`]=value[errorKey],value[errorKey]=void 0}const missingKeys=Object.keys(annotations.missing);for(let i=0;i<missingKeys.length;++i){const missingKey=missingKeys[i];value[`_$miss$_${missingKey}|${annotations.missing[missingKey]}_$end$_`]="__missing__"}}return value}}return value===1/0||value===-1/0||Number.isNaN(value)||"function"==typeof value||"symbol"==typeof value?"["+value.toString()+"]":value}},internals.annotate=function(stripColorCodes){const redFgEscape=stripColorCodes?"":"[31m",redBgEscape=stripColorCodes?"":"[41m",endColor=stripColorCodes?"":"[0m";if("object"!=typeof this._object)return this.details[0].message;const obj=Hoek.clone(this._object||{});for(let i=this.details.length-1;i>=0;--i){const pos=i+1,error=this.details[i],path=error.path;let ref=obj;for(let j=0;;++j){const seg=path[j];if(ref.isImmutable&&(ref=ref.clone()),!(j+1<path.length&&ref[seg]&&"string"!=typeof ref[seg])){const refAnnotations=ref[internals.annotations]=ref[internals.annotations]||{errors:{},missing:{}},value=ref[seg],cacheKey=seg||error.context.label;void 0!==value?(refAnnotations.errors[cacheKey]=refAnnotations.errors[cacheKey]||[],refAnnotations.errors[cacheKey].push(pos)):refAnnotations.missing[cacheKey]=pos;break}ref=ref[seg]}}const replacers_key=/_\$key\$_([, \d]+)_\$end\$_"/g,replacers_missing=/"_\$miss\$_([^|]+)\|(\d+)_\$end\$_": "__missing__"/g,replacers_arrayIndex=/\s*"_\$idx\$_([, \d]+)_\$end\$_",?\n(.*)/g,replacers_specials=/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)]"/g;let message=internals.safeStringify(obj,2).replace(replacers_key,($0,$1)=>`" ${redFgEscape}[${$1}]${endColor}`).replace(replacers_missing,($0,$1,$2)=>`${redBgEscape}"${$1}"${endColor}${redFgEscape} [${$2}]: -- missing --${endColor}`).replace(replacers_arrayIndex,($0,$1,$2)=>`\n${$2} ${redFgEscape}[${$1}]${endColor}`).replace(replacers_specials,($0,$1)=>$1);message=`${message}\n${redFgEscape}`;for(let i=0;i<this.details.length;++i){message=`${message}\n[${i+1}] ${this.details[i].message}`}return message+=endColor}},{"./language":33,"@hapi/hoek":20}],33:[function(require,module,exports){"use strict";exports.errors={root:"value",key:'"{{!label}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives",child:null},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!label}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!label}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!label}}" contains an excluded value',hasKnown:'does not contain at least one required match for type "{{!patternLabel}}"',hasUnknown:"does not contain at least one required match",min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",ref:'references "{{ref}}" which is not a positive integer',sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',less:'must be less than "{{limit}}"',greater:'must be greater than "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference",class:"must be a class"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'!!"{{mainWithLabel}}" missing required peer "{{peerWithLabel}}"',without:'!!"{{mainWithLabel}}" conflict with forbidden peer "{{peerWithLabel}}"',missing:"must contain at least one of {{peersWithLabels}}",xor:"contains a conflict between exclusive peers {{peersWithLabels}}",oxor:"contains a conflict between optional exclusive peers {{peersWithLabels}}",and:"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}",nand:'!!"{{mainWithLabel}}" must not exist simultaneously with {{peersWithLabels}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename children {{from}} because override is disabled and target "{{to}}" exists'}},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",unsafe:"must be a safe number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}",port:"must be a valid port"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",hexAlign:"hex decoded representation must be byte aligned",base64:"must be a valid base64 string",dataUri:"must be a valid dataUri string",hostname:"must be a valid hostname",normalize:"must be unicode normalized in the {{form}} form",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"},symbol:{base:"must be a symbol",map:"must be one of {{map}}"}}},{}],34:[function(require,module,exports){"use strict";const Hoek=require("@hapi/hoek");exports.create=function(key,options){Hoek.assert("string"==typeof key,"Invalid reference key:",key);const settings=Hoek.clone(options),ref=function(value,validationOptions){return Hoek.reach(ref.isContext?validationOptions.context:value,ref.key,settings)};return ref.isContext=key[0]===(settings&&settings.contextPrefix||"$"),ref.key=ref.isContext?key.slice(1):key,ref.path=ref.key.split(settings&&settings.separator||"."),ref.depth=ref.path.length,ref.root=ref.path[0],ref.isJoi=!0,ref.toString=function(){return(ref.isContext?"context:":"ref:")+ref.key},ref},exports.isRef=function(ref){return"function"==typeof ref&&ref.isJoi},exports.push=function(array,ref){exports.isRef(ref)&&!ref.isContext&&array.push(ref.root)}},{"@hapi/hoek":20}],35:[function(require,module,exports){"use strict";const Joi=require("./index");exports.options=Joi.object({abortEarly:Joi.boolean(),convert:Joi.boolean(),allowUnknown:Joi.boolean(),skipFunctions:Joi.boolean(),stripUnknown:[Joi.boolean(),Joi.object({arrays:Joi.boolean(),objects:Joi.boolean()}).or("arrays","objects")],language:Joi.object(),presence:Joi.string().only("required","optional","forbidden","ignore"),context:Joi.object(),noDefaults:Joi.boolean(),escapeHtml:Joi.boolean()}).strict()},{"./index":"@hapi/joi"}],36:[function(require,module,exports){(function(Buffer){"use strict";const Ref=require("./ref"),internals={extendedCheckForValue:function(value,insensitive){const valueType=typeof value;if("object"===valueType){if(value instanceof Date)return item=>item instanceof Date&&value.getTime()===item.getTime();if(Buffer.isBuffer(value))return item=>Buffer.isBuffer(item)&&value.length===item.length&&value.toString("binary")===item.toString("binary")}else if(insensitive&&"string"===valueType){const lowercaseValue=value.toLowerCase();return item=>"string"==typeof item&&lowercaseValue===item.toLowerCase()}return null}};module.exports=class InternalSet{constructor(from){this._set=new Set(from),this._hasRef=!1}add(value,refs){const isRef=Ref.isRef(value);return!isRef&&this.has(value,null,null,!1)?this:(void 0!==refs&&Ref.push(refs,value),this._set.add(value),this._hasRef|=isRef,this)}merge(add,remove){for(const item of add._set)this.add(item);for(const item of remove._set)this.remove(item);return this}remove(value){return this._set.delete(value),this}has(value,state,options,insensitive){return!!this.get(value,state,options,insensitive)}get(value,state,options,insensitive){if(!this._set.size)return!1;if(this._set.has(value))return{value:value};const extendedCheck=internals.extendedCheckForValue(value,insensitive);if(!extendedCheck){if(state&&this._hasRef)for(let item of this._set)if(Ref.isRef(item)){const found=(item=[].concat(item(state.reference||state.parent,options))).indexOf(value);if(found>=0)return{value:item[found]}}return!1}return this._has(value,state,options,extendedCheck)}_has(value,state,options,check){const checkRef=!(!state||!this._hasRef),isReallyEqual=function(item){return value===item||check(item)};for(let item of this._set)if(checkRef&&Ref.isRef(item)&&(item=item(state.reference||state.parent,options),Array.isArray(item))){const found=item.findIndex(isReallyEqual);if(found>=0)return{value:item[found]}}else if(isReallyEqual(item))return{value:item};return!1}values(options){if(options&&options.stripUndefined){const values=[];for(const item of this._set)void 0!==item&&values.push(item);return values}return Array.from(this._set)}slice(){const set=new InternalSet(this._set);return set._hasRef=this._hasRef,set}concat(source){const set=new InternalSet([...this._set,...source._set]);return set._hasRef=!!(this._hasRef|source._hasRef),set}}}).call(this,{isBuffer:require("../../../is-buffer/index.js")})},{"../../../is-buffer/index.js":65,"./ref":34}],37:[function(require,module,exports){"use strict";const Hoek=require("@hapi/hoek"),Any=require("../any"),Cast=require("../../cast"),Ref=require("../../ref"),internals={Alternatives:class extends Any{constructor(){super(),this._type="alternatives",this._invalids.remove(null),this._inner.matches=[]}_init(...args){return args.length?this.try(...args):this}_base(value,state,options){const errors=[],il=this._inner.matches.length,baseType=this._baseType;for(let i=0;i<il;++i){const item=this._inner.matches[i];if(!item.schema){const schema=item.peek||item.is,input=item.is?item.ref(state.reference||state.parent,options):value;if(schema._validate(input,null,options,state.parent).errors){if(item.otherwise)return item.otherwise._validate(value,state,options)}else if(item.then)return item.then._validate(value,state,options);if(i===il-1&&baseType)return baseType._validate(value,state,options);continue}const result=item.schema._validate(value,state,options);if(!result.errors)return result;errors.push(...result.errors)}return errors.length?{errors:this.createError("alternatives.child",{reason:errors},state,options)}:{errors:this.createError("alternatives.base",null,state,options)}}try(...schemas){schemas=Hoek.flatten(schemas),Hoek.assert(schemas.length,"Cannot add other alternatives without at least one schema");const obj=this.clone();for(let i=0;i<schemas.length;++i){const cast=Cast.schema(this._currentJoi,schemas[i]);cast._refs.length&&obj._refs.push(...cast._refs),obj._inner.matches.push({schema:cast})}return obj}when(condition,options){let schemaCondition=!1;Hoek.assert(Ref.isRef(condition)||"string"==typeof condition||(schemaCondition=condition instanceof Any),"Invalid condition:",condition),Hoek.assert(options,"Missing options"),Hoek.assert("object"==typeof options,"Invalid options"),schemaCondition?Hoek.assert(!options.hasOwnProperty("is"),'"is" can not be used with a schema condition'):Hoek.assert(options.hasOwnProperty("is"),'Missing "is" directive'),Hoek.assert(void 0!==options.then||void 0!==options.otherwise,'options must have at least one of "then" or "otherwise"');const obj=this.clone();let is;schemaCondition||(is=Cast.schema(this._currentJoi,options.is),null!==options.is&&(Ref.isRef(options.is)||options.is instanceof Any)||(is=is.required()));const item={ref:schemaCondition?null:Cast.ref(condition),peek:schemaCondition?condition:null,is:is,then:void 0!==options.then?Cast.schema(this._currentJoi,options.then):void 0,otherwise:void 0!==options.otherwise?Cast.schema(this._currentJoi,options.otherwise):void 0};return obj._baseType&&(item.then=item.then&&obj._baseType.concat(item.then),item.otherwise=item.otherwise&&obj._baseType.concat(item.otherwise)),schemaCondition||(Ref.push(obj._refs,item.ref),obj._refs.push(...item.is._refs)),item.then&&item.then._refs.length&&obj._refs.push(...item.then._refs),item.otherwise&&item.otherwise._refs.length&&obj._refs.push(...item.otherwise._refs),obj._inner.matches.push(item),obj}label(name){const obj=super.label(name);return obj._inner.matches=obj._inner.matches.map(match=>match.schema?{schema:match.schema.label(name)}:((match=Object.assign({},match)).then&&(match.then=match.then.label(name)),match.otherwise&&(match.otherwise=match.otherwise.label(name)),match)),obj}describe(){const description=super.describe(),alternatives=[];for(let i=0;i<this._inner.matches.length;++i){const item=this._inner.matches[i];if(item.schema)alternatives.push(item.schema.describe());else{const when=item.is?{ref:item.ref.toString(),is:item.is.describe()}:{peek:item.peek.describe()};item.then&&(when.then=item.then.describe()),item.otherwise&&(when.otherwise=item.otherwise.describe()),alternatives.push(when)}}return description.alternatives=alternatives,description}}};module.exports=new internals.Alternatives},{"../../cast":31,"../../ref":34,"../any":38,"@hapi/hoek":20}],38:[function(require,module,exports){"use strict";const Hoek=require("@hapi/hoek"),Cast=require("../../cast"),Settings=require("./settings"),Ref=require("../../ref"),Errors=require("../../errors"),State=require("../state"),Symbols=require("../symbols"),Pkg=require("../../../package.json");let Alternatives=null,Schemas=null;const internals={Set:require("../../set"),symbol:Symbol.for("@hapi/joi/schema"),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",noDefaults:!1,escapeHtml:!1}};module.exports=internals.Any=class{constructor(){this.isJoi=!0,this._type="any",this._settings=null,this._valids=new internals.Set,this._invalids=new internals.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}_init(){return this}get schemaType(){return this._type}createError(type,context,state,options,flags=this._flags){return Errors.create(type,context,state,options,flags)}createOverrideError(type,context,state,options,message,template){return Errors.create(type,context,state,options,this._flags,message,template)}checkOptions(options){const result=(Schemas=Schemas||require("../../schemas")).options.validate(options);if(result.error)throw new Error(result.error.details[0].message)}clone(){const obj=Object.create(Object.getPrototypeOf(this));obj.isJoi=!0,obj._currentJoi=this._currentJoi,obj._type=this._type,obj._settings=this._settings,obj._baseType=this._baseType,obj._valids=this._valids.slice(),obj._invalids=this._invalids.slice(),obj._tests=this._tests.slice(),obj._refs=this._refs.slice(),obj._flags=Hoek.clone(this._flags),obj._description=this._description,obj._unit=this._unit,obj._notes=this._notes.slice(),obj._tags=this._tags.slice(),obj._examples=this._examples.slice(),obj._meta=this._meta.slice(),obj._inner={};const inners=Object.keys(this._inner);for(let i=0;i<inners.length;++i){const key=inners[i];obj._inner[key]=this._inner[key]?this._inner[key].slice():null}return obj}concat(schema){Hoek.assert(schema instanceof internals.Any,"Invalid schema object"),Hoek.assert("any"===this._type||"any"===schema._type||schema._type===this._type,"Cannot merge type",this._type,"with another type:",schema._type);let obj=this.clone();if("any"===this._type&&"any"!==schema._type){const tmpObj=schema.clone(),keysToRestore=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"];for(let i=0;i<keysToRestore.length;++i)tmpObj[keysToRestore[i]]=obj[keysToRestore[i]];obj=tmpObj}if(obj._settings=obj._settings?Settings.concat(obj._settings,schema._settings):schema._settings,obj._valids.merge(schema._valids,schema._invalids),obj._invalids.merge(schema._invalids,schema._valids),obj._tests.push(...schema._tests),obj._refs.push(...schema._refs),obj._flags.empty&&schema._flags.empty){obj._flags.empty=obj._flags.empty.concat(schema._flags.empty);const flags=Object.assign({},schema._flags);delete flags.empty,Hoek.merge(obj._flags,flags)}else if(schema._flags.empty){obj._flags.empty=schema._flags.empty;const flags=Object.assign({},schema._flags);delete flags.empty,Hoek.merge(obj._flags,flags)}else Hoek.merge(obj._flags,schema._flags);obj._description=schema._description||obj._description,obj._unit=schema._unit||obj._unit,obj._notes.push(...schema._notes),obj._tags.push(...schema._tags),obj._examples.push(...schema._examples),obj._meta.push(...schema._meta);const inners=Object.keys(schema._inner),isObject="object"===obj._type;for(let i=0;i<inners.length;++i){const key=inners[i],source=schema._inner[key];if(source){const target=obj._inner[key];if(target)if(isObject&&"children"===key){const keys={};for(let j=0;j<target.length;++j)keys[target[j].key]=j;for(let j=0;j<source.length;++j){const sourceKey=source[j].key;keys[sourceKey]>=0?target[keys[sourceKey]]={key:sourceKey,schema:target[keys[sourceKey]].schema.concat(source[j].schema)}:target.push(source[j])}}else obj._inner[key]=obj._inner[key].concat(source);else obj._inner[key]=source.slice()}}return obj}_test(name,arg,func,options){const obj=this.clone();return obj._tests.push({func:func,name:name,arg:arg,options:options}),obj}_testUnique(name,arg,func,options){const obj=this.clone();return obj._tests=obj._tests.filter(test=>test.name!==name),obj._tests.push({func:func,name:name,arg:arg,options:options}),obj}options(options){Hoek.assert(!options.context,"Cannot override context"),this.checkOptions(options);const obj=this.clone();return obj._settings=Settings.concat(obj._settings,options),obj}strict(isStrict){const obj=this.clone(),convert=void 0!==isStrict&&!isStrict;return obj._settings=Settings.concat(obj._settings,{convert:convert}),obj}raw(isRaw){const value=void 0===isRaw||isRaw;if(this._flags.raw===value)return this;const obj=this.clone();return obj._flags.raw=value,obj}error(err,options={self:!1}){Hoek.assert(err&&(err instanceof Error||"function"==typeof err),"Must provide a valid Error object or a function");const unknownKeys=Object.keys(options).filter(k=>!["self"].includes(k));Hoek.assert(0===unknownKeys.length,`Options ${unknownKeys} are unknown`);const obj=this.clone();return obj._flags.error=err,options.self&&(obj._flags.selfError=!0),obj}allow(...values){const obj=this.clone();values=Hoek.flatten(values);for(let i=0;i<values.length;++i){const value=values[i];Hoek.assert(void 0!==value,"Cannot call allow/valid/invalid with undefined"),obj._invalids.remove(value),obj._valids.add(value,obj._refs)}return obj}valid(...values){const obj=this.allow(...values);return obj._flags.allowOnly=!0,obj}invalid(...values){const obj=this.clone();values=Hoek.flatten(values);for(let i=0;i<values.length;++i){const value=values[i];Hoek.assert(void 0!==value,"Cannot call allow/valid/invalid with undefined"),obj._valids.remove(value),obj._invalids.add(value,obj._refs)}return obj}required(){if("required"===this._flags.presence)return this;const obj=this.clone();return obj._flags.presence="required",obj}optional(){if("optional"===this._flags.presence)return this;const obj=this.clone();return obj._flags.presence="optional",obj}forbidden(){if("forbidden"===this._flags.presence)return this;const obj=this.clone();return obj._flags.presence="forbidden",obj}strip(){if(this._flags.strip)return this;const obj=this.clone();return obj._flags.strip=!0,obj}applyFunctionToChildren(children,fn,args=[],root){if(1!==(children=[].concat(children)).length||""!==children[0]){root=root?root+".":"";const extraChildren=(""===children[0]?children.slice(1):children).map(child=>root+child);throw new Error("unknown key(s) "+extraChildren.join(", "))}return this[fn](...args)}default(value,description){"function"!=typeof value||Ref.isRef(value)||(!value.description&&description&&(value.description=description),this._flags.func||Hoek.assert("string"==typeof value.description&&value.description.length>0,"description must be provided when default value is a function"));const obj=this.clone();return obj._flags.default=value,Ref.push(obj._refs,value),obj}empty(schema){const obj=this.clone();return void 0===schema?delete obj._flags.empty:obj._flags.empty=Cast.schema(this._currentJoi,schema),obj}when(condition,options){Hoek.assert(options&&"object"==typeof options,"Invalid options"),Hoek.assert(void 0!==options.then||void 0!==options.otherwise,'options must have at least one of "then" or "otherwise"');const then=options.hasOwnProperty("then")?this.concat(Cast.schema(this._currentJoi,options.then)):void 0,otherwise=options.hasOwnProperty("otherwise")?this.concat(Cast.schema(this._currentJoi,options.otherwise)):void 0;Alternatives=Alternatives||require("../alternatives");const alternativeOptions={then:then,otherwise:otherwise};Object.prototype.hasOwnProperty.call(options,"is")&&(alternativeOptions.is=options.is);const obj=Alternatives.when(condition,alternativeOptions);return obj._flags.presence="ignore",obj._baseType=this,obj}description(desc){Hoek.assert(desc&&"string"==typeof desc,"Description must be a non-empty string");const obj=this.clone();return obj._description=desc,obj}notes(notes){Hoek.assert(notes&&("string"==typeof notes||Array.isArray(notes)),"Notes must be a non-empty string or array");const obj=this.clone();return obj._notes=obj._notes.concat(notes),obj}tags(tags){Hoek.assert(tags&&("string"==typeof tags||Array.isArray(tags)),"Tags must be a non-empty string or array");const obj=this.clone();return obj._tags=obj._tags.concat(tags),obj}meta(meta){Hoek.assert(void 0!==meta,"Meta cannot be undefined");const obj=this.clone();return obj._meta=obj._meta.concat(meta),obj}example(...examples){Hoek.assert(examples.length>0,"Missing examples");const processed=[];for(let i=0;i<examples.length;++i){const example=[].concat(examples[i]);Hoek.assert(example.length<=2,`Bad example format at index ${i}`);const value=example[0];let options=example[1];if(void 0!==options){Hoek.assert(options&&"object"==typeof options,`Options for example at index ${i} must be an object`);const unknownOptions=Object.keys(options).filter(option=>!["parent","context"].includes(option));Hoek.assert(0===unknownOptions.length,`Unknown example options ${unknownOptions} at index ${i}`)}else options={};const localState=new State("",[],options.parent||null),result=this._validate(value,localState,Settings.concat(internals.defaults,options.context?{context:options.context}:null));Hoek.assert(!result.errors,`Bad example at index ${i}:`,result.errors&&Errors.process(result.errors,value));const ex={value:value};Object.keys(options).length&&(ex.options=options),processed.push(ex)}const obj=this.clone();return obj._examples=processed,obj}unit(name){Hoek.assert(name&&"string"==typeof name,"Unit name must be a non-empty string");const obj=this.clone();return obj._unit=name,obj}_prepareEmptyValue(value){return"string"==typeof value&&this._flags.trim?value.trim():value}_validate(value,state,options,reference){const originalValue=value;if(state=state||new State("",[],null,reference),this._settings){const isDefaultOptions=options===internals.defaults;isDefaultOptions&&this._settings[Symbols.settingsCache]?options=this._settings[Symbols.settingsCache]:(options=Settings.concat(this._language?Settings.concat({language:this._language},options):options,this._settings),isDefaultOptions&&(this._settings[Symbols.settingsCache]=options))}else this._language&&(options=Settings.concat({language:this._language},options));let errors=[];if(this._coerce){const coerced=this._coerce(value,state,options);if(coerced.errors)return value=coerced.value,errors=errors.concat(coerced.errors),this._finalizeValue(value,originalValue,errors,state,options);value=coerced.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(value),null,internals.defaults).errors&&(value=void 0);const presence=this._flags.presence||options.presence;if("optional"===presence){if(void 0===value){if(!(this._flags.hasOwnProperty("default")&&void 0===this._flags.default)||"object"!==this._type)return this._finalizeValue(value,originalValue,errors,state,options);value={}}}else{if("required"===presence&&void 0===value)return errors.push(this.createError("any.required",null,state,options)),this._finalizeValue(value,originalValue,errors,state,options);if("forbidden"===presence)return void 0===value?this._finalizeValue(value,originalValue,errors,state,options):(errors.push(this.createError("any.unknown",null,state,options)),this._finalizeValue(value,originalValue,errors,state,options))}let match=this._valids.get(value,state,options,this._flags.insensitive);if(match)return options.convert&&(value=match.value),this._finalizeValue(value,originalValue,errors,state,options);if(this._invalids.has(value,state,options,this._flags.insensitive)&&(errors.push(this.createError(""===value?"any.empty":"any.invalid",{value:value,invalids:this._invalids.values({stripUndefined:!0})},state,options)),options.abortEarly))return this._finalizeValue(value,originalValue,errors,state,options);if(this._base){const base=this._base(value,state,options);if(base.errors)return value=base.value,errors=errors.concat(base.errors),this._finalizeValue(value,originalValue,errors,state,options);if(base.value!==value){if(value=base.value,match=this._valids.get(value,state,options,this._flags.insensitive))return value=match.value,this._finalizeValue(value,originalValue,errors,state,options);if(this._invalids.has(value,state,options,this._flags.insensitive)&&(errors.push(this.createError(""===value?"any.empty":"any.invalid",{value:value,invalids:this._invalids.values({stripUndefined:!0})},state,options)),options.abortEarly))return this._finalizeValue(value,originalValue,errors,state,options)}}if(this._flags.allowOnly&&(errors.push(this.createError("any.allowOnly",{value:value,valids:this._valids.values({stripUndefined:!0})},state,options)),options.abortEarly))return this._finalizeValue(value,originalValue,errors,state,options);for(let i=0;i<this._tests.length;++i){const ret=this._tests[i].func.call(this,value,state,options);if(ret instanceof Errors.Err){if(errors.push(ret),options.abortEarly)return this._finalizeValue(value,originalValue,errors,state,options)}else value=ret}return this._finalizeValue(value,originalValue,errors,state,options)}_finalizeValue(value,originalValue,errors,state,options){let finalValue;if(void 0!==value)finalValue=this._flags.raw?originalValue:value;else if(options.noDefaults)finalValue=value;else if(Ref.isRef(this._flags.default))finalValue=this._flags.default(state.parent,options);else if("function"!=typeof this._flags.default||this._flags.func&&!this._flags.default.description)finalValue=Hoek.clone(this._flags.default);else{let args;null!==state.parent&&this._flags.default.length>0&&(args=[Hoek.clone(state.parent),options]);const defaultValue=internals._try(this._flags.default,args);finalValue=defaultValue.value,defaultValue.error&&errors.push(this.createError("any.default",{error:defaultValue.error},state,options))}if(errors.length&&"function"==typeof this._flags.error&&(!this._flags.selfError||errors.some(e=>state.path.length===e.path.length))){const change=this._flags.error.call(this,errors);errors="string"==typeof change?[this.createOverrideError("override",{reason:errors},state,options,change)]:[].concat(change).map(err=>err instanceof Error?err:this.createOverrideError(err.type||"override",err.context,state,options,err.message,err.template))}return{value:this._flags.strip?void 0:finalValue,finalValue:finalValue,errors:errors.length?errors:null}}_validateWithOptions(value,options,callback){options&&this.checkOptions(options);const settings=Settings.concat(internals.defaults,options),result=this._validate(value,null,settings),errors=Errors.process(result.errors,value);return callback?callback(errors,result.value):{error:errors,value:result.value,then:(resolve,reject)=>errors?Promise.reject(errors).catch(reject):Promise.resolve(result.value).then(resolve),catch:reject=>errors?Promise.reject(errors).catch(reject):Promise.resolve(result.value)}}validate(value,options,callback){return"function"==typeof options?this._validateWithOptions(value,null,options):this._validateWithOptions(value,options,callback)}describe(){const description={type:this._type},flags=Object.keys(this._flags);if(flags.length)if(["empty","default","lazy","label"].some(flag=>this._flags.hasOwnProperty(flag))){description.flags={};for(let i=0;i<flags.length;++i){const flag=flags[i];"empty"===flag?description.flags[flag]=this._flags[flag].describe():"default"===flag?Ref.isRef(this._flags[flag])?description.flags[flag]=this._flags[flag].toString():"function"==typeof this._flags[flag]?description.flags[flag]={description:this._flags[flag].description,function:this._flags[flag]}:description.flags[flag]=this._flags[flag]:"lazy"===flag||"label"===flag||(description.flags[flag]=this._flags[flag])}}else description.flags=this._flags;this._settings&&(description.options=Hoek.clone(this._settings)),this._baseType&&(description.base=this._baseType.describe()),this._description&&(description.description=this._description),this._notes.length&&(description.notes=this._notes),this._tags.length&&(description.tags=this._tags),this._meta.length&&(description.meta=this._meta),this._examples.length&&(description.examples=this._examples),this._unit&&(description.unit=this._unit);const valids=this._valids.values();valids.length&&(description.valids=valids.map(v=>Ref.isRef(v)?v.toString():v));const invalids=this._invalids.values();invalids.length&&(description.invalids=invalids.map(v=>Ref.isRef(v)?v.toString():v)),description.rules=[];for(let i=0;i<this._tests.length;++i){const validator=this._tests[i],item={name:validator.name};void 0!==validator.arg&&(item.arg=Ref.isRef(validator.arg)?validator.arg.toString():validator.arg);const options=validator.options;if(options){if(options.hasRef){item.arg={};const keys=Object.keys(validator.arg);for(let j=0;j<keys.length;++j){const key=keys[j],value=validator.arg[key];item.arg[key]=Ref.isRef(value)?value.toString():value}}"string"==typeof options.description?item.description=options.description:"function"==typeof options.description&&(item.description=options.description(item.arg))}description.rules.push(item)}description.rules.length||delete description.rules;const label=this._getLabel();return label&&(description.label=label),description}label(name){Hoek.assert(name&&"string"==typeof name,"Label name must be a non-empty string");const obj=this.clone();return obj._flags.label=name,obj}_getLabel(def){return this._flags.label||def}},internals.Any.prototype.isImmutable=!0,internals.Any.prototype.only=internals.Any.prototype.equal=internals.Any.prototype.valid,internals.Any.prototype.disallow=internals.Any.prototype.not=internals.Any.prototype.invalid,internals.Any.prototype.exist=internals.Any.prototype.required,internals.Any.prototype[internals.symbol]={version:Pkg.version,compile:Cast.schema,root:"_currentJoi"},internals._try=function(fn,args=[]){let err,result;try{result=fn(...args)}catch(e){err=e}return{value:result,error:err}}},{"../../../package.json":55,"../../cast":31,"../../errors":32,"../../ref":34,"../../schemas":35,"../../set":36,"../alternatives":37,"../state":48,"../symbols":54,"./settings":39,"@hapi/hoek":20}],39:[function(require,module,exports){"use strict";const Hoek=require("@hapi/hoek"),Symbols=require("../symbols");exports.concat=function(target,source){if(!source)return target;const obj=Object.assign({},target),language=source.language;return Object.assign(obj,source),language&&target&&target.language&&(obj.language=Hoek.applyToDefaults(target.language,language)),obj[Symbols.settingsCache]&&delete obj[Symbols.settingsCache],obj}},{"../symbols":54,"@hapi/hoek":20}],40:[function(require,module,exports){"use strict";const Bourne=require("@hapi/bourne"),Hoek=require("@hapi/hoek"),Any=require("../any"),Cast=require("../../cast"),Ref=require("../../ref"),State=require("../state"),internals={fastSplice:function(arr,i){let pos=i;for(;pos<arr.length;)arr[pos++]=arr[pos];--arr.length},Array:class extends Any{constructor(){super(),this._type="array",this._inner.items=[],this._inner.ordereds=[],this._inner.inclusions=[],this._inner.exclusions=[],this._inner.requireds=[],this._flags.sparse=!1}_base(value,state,options){const result={value:value};if("string"==typeof value&&options.convert&&value.length>1&&("["===value[0]||/^\s*\[/.test(value)))try{result.value=Bourne.parse(value)}catch(e){}let isArray=Array.isArray(result.value);const wasArray=isArray;if(options.convert&&this._flags.single&&!isArray&&(result.value=[result.value],isArray=!0),!isArray)return result.errors=this.createError("array.base",null,state,options),result;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(wasArray&&(result.value=result.value.slice(0)),result.errors=this._checkItems(result.value,wasArray,state,options),result.errors&&wasArray&&options.convert&&this._flags.single)){const previousErrors=result.errors;result.value=[result.value],result.errors=this._checkItems(result.value,wasArray,state,options),result.errors&&(result.errors=previousErrors,result.value=result.value[0])}return result}_checkItems(items,wasArray,state,options){const errors=[];let errored;const requireds=this._inner.requireds.slice(),ordereds=this._inner.ordereds.slice(),inclusions=[...this._inner.inclusions,...requireds];let il=items.length;for(let i=0;i<il;++i){errored=!1;const item=items[i];let isValid=!1;const key=wasArray?i:state.key,path=wasArray?[...state.path,i]:state.path,localState=new State(key,path,state.parent,state.reference);let res;if(!this._flags.sparse&&void 0===item){if(errors.push(this.createError("array.sparse",null,{key:state.key,path:localState.path,pos:i},options)),options.abortEarly)return errors;ordereds.shift();continue}for(let j=0;j<this._inner.exclusions.length;++j)if(!(res=this._inner.exclusions[j]._validate(item,localState,{})).errors){if(errors.push(this.createError(wasArray?"array.excludes":"array.excludesSingle",{pos:i,value:item},{key:state.key,path:localState.path},options)),errored=!0,options.abortEarly)return errors;ordereds.shift();break}if(errored)continue;if(this._inner.ordereds.length){if(ordereds.length>0){const ordered=ordereds.shift();if((res=ordered._validate(item,localState,options)).errors){if(errors.push(this.createError("array.ordered",{pos:i,reason:res.errors,value:item},{key:state.key,path:localState.path},options)),options.abortEarly)return errors}else if(ordered._flags.strip)internals.fastSplice(items,i),--i,--il;else{if(!this._flags.sparse&&void 0===res.value){if(errors.push(this.createError("array.sparse",null,{key:state.key,path:localState.path,pos:i},options)),options.abortEarly)return errors;continue}items[i]=res.value}continue}if(!this._inner.items.length){if(errors.push(this.createError("array.orderedLength",{pos:i,limit:this._inner.ordereds.length},{key:state.key,path:localState.path},options)),options.abortEarly)return errors;continue}}const requiredChecks=[];let jl=requireds.length;for(let j=0;j<jl;++j)if(!(res=requiredChecks[j]=requireds[j]._validate(item,localState,options)).errors){if(items[i]=res.value,isValid=!0,internals.fastSplice(requireds,j),--j,--jl,!this._flags.sparse&&void 0===res.value&&(errors.push(this.createError("array.sparse",null,{key:state.key,path:localState.path,pos:i},options)),options.abortEarly))return errors;break}if(isValid)continue;const stripUnknown=options.stripUnknown&&!!options.stripUnknown.arrays||!1;jl=inclusions.length;for(let j=0;j<jl;++j){const inclusion=inclusions[j],previousCheck=requireds.indexOf(inclusion);if(-1!==previousCheck)res=requiredChecks[previousCheck];else if(!(res=inclusion._validate(item,localState,options)).errors){inclusion._flags.strip?(internals.fastSplice(items,i),--i,--il):this._flags.sparse||void 0!==res.value?items[i]=res.value:(errors.push(this.createError("array.sparse",null,{key:state.key,path:localState.path,pos:i},options)),errored=!0),isValid=!0;break}if(1===jl){if(stripUnknown){internals.fastSplice(items,i),--i,--il,isValid=!0;break}if(errors.push(this.createError(wasArray?"array.includesOne":"array.includesOneSingle",{pos:i,reason:res.errors,value:item},{key:state.key,path:localState.path},options)),errored=!0,options.abortEarly)return errors;break}}if(!errored&&(this._inner.inclusions.length&&!isValid)){if(stripUnknown){internals.fastSplice(items,i),--i,--il;continue}if(errors.push(this.createError(wasArray?"array.includes":"array.includesSingle",{pos:i,value:item},{key:state.key,path:localState.path},options)),options.abortEarly)return errors}}return requireds.length&&this._fillMissedErrors(errors,requireds,state,options),ordereds.length&&this._fillOrderedErrors(errors,ordereds,state,options),errors.length?errors:null}describe(){const description=super.describe();if(this._inner.ordereds.length){description.orderedItems=[];for(let i=0;i<this._inner.ordereds.length;++i)description.orderedItems.push(this._inner.ordereds[i].describe())}if(this._inner.items.length){description.items=[];for(let i=0;i<this._inner.items.length;++i)description.items.push(this._inner.items[i].describe())}if(description.rules)for(let i=0;i<description.rules.length;++i){const rule=description.rules[i];"has"===rule.name&&(rule.arg=rule.arg.describe())}return description}items(...schemas){const obj=this.clone();return Hoek.flatten(schemas).forEach((type,index)=>{try{type=Cast.schema(this._currentJoi,type)}catch(castErr){throw castErr.hasOwnProperty("path")?castErr.path=index+"."+castErr.path:castErr.path=index,castErr.message=`${castErr.message}(${castErr.path})`,castErr}obj._inner.items.push(type),"required"===type._flags.presence?obj._inner.requireds.push(type):"forbidden"===type._flags.presence?obj._inner.exclusions.push(type.optional()):obj._inner.inclusions.push(type)}),obj}ordered(...schemas){const obj=this.clone();return Hoek.flatten(schemas).forEach((type,index)=>{try{type=Cast.schema(this._currentJoi,type)}catch(castErr){throw castErr.hasOwnProperty("path")?castErr.path=index+"."+castErr.path:castErr.path=index,castErr.message=`${castErr.message}(${castErr.path})`,castErr}obj._inner.ordereds.push(type)}),obj}min(limit){const isRef=Ref.isRef(limit);return Hoek.assert(Number.isSafeInteger(limit)&&limit>=0||isRef,"limit must be a positive integer or reference"),this._testUnique("min",limit,function(value,state,options){let compareTo;if(isRef){if(compareTo=limit(state.reference||state.parent,options),!(Number.isSafeInteger(compareTo)&&compareTo>=0))return this.createError("array.ref",{ref:limit,value:compareTo},state,options)}else compareTo=limit;return value.length>=compareTo?value:this.createError("array.min",{limit:limit,value:value},state,options)})}max(limit){const isRef=Ref.isRef(limit);return Hoek.assert(Number.isSafeInteger(limit)&&limit>=0||isRef,"limit must be a positive integer or reference"),this._testUnique("max",limit,function(value,state,options){let compareTo;if(isRef){if(compareTo=limit(state.reference||state.parent,options),!(Number.isSafeInteger(compareTo)&&compareTo>=0))return this.createError("array.ref",{ref:limit.key},state,options)}else compareTo=limit;return value.length<=compareTo?value:this.createError("array.max",{limit:limit,value:value},state,options)})}length(limit){const isRef=Ref.isRef(limit);return Hoek.assert(Number.isSafeInteger(limit)&&limit>=0||isRef,"limit must be a positive integer or reference"),this._testUnique("length",limit,function(value,state,options){let compareTo;if(isRef){if(compareTo=limit(state.reference||state.parent,options),!(Number.isSafeInteger(compareTo)&&compareTo>=0))return this.createError("array.ref",{ref:limit.key},state,options)}else compareTo=limit;return value.length===compareTo?value:this.createError("array.length",{limit:limit,value:value},state,options)})}has(schema){try{schema=Cast.schema(this._currentJoi,schema)}catch(castErr){throw castErr.hasOwnProperty("path")&&(castErr.message=`${castErr.message}(${castErr.path})`),castErr}return this._test("has",schema,function(value,state,options){if(value.some((item,idx)=>{const localState=new State(idx,[...state.path,idx],state.key,state.reference);return!schema._validate(item,localState,options).errors}))return value;const patternLabel=schema._getLabel();return patternLabel?this.createError("array.hasKnown",{patternLabel:patternLabel},state,options):this.createError("array.hasUnknown",null,state,options)})}unique(comparator,configs){Hoek.assert(void 0===comparator||"function"==typeof comparator||"string"==typeof comparator,"comparator must be a function or a string"),Hoek.assert(void 0===configs||"object"==typeof configs,"configs must be an object");const settings={ignoreUndefined:configs&&configs.ignoreUndefined||!1};return"string"==typeof comparator?settings.path=comparator:"function"==typeof comparator&&(settings.comparator=comparator),this._test("unique",settings,function(value,state,options){const found={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},compare=settings.comparator||Hoek.deepEqual,ignoreUndefined=settings.ignoreUndefined;for(let i=0;i<value.length;++i){const item=settings.path?Hoek.reach(value[i],settings.path):value[i],records=settings.comparator?found.custom:found[typeof item];if(records)if(records instanceof Map){const entries=records.entries();let current;for(;!(current=entries.next()).done;)if(compare(current.value[0],item)){const localState=new State(state.key,[...state.path,i],state.parent,state.reference),context={pos:i,value:value[i],dupePos:current.value[1],dupeValue:value[current.value[1]]};return settings.path&&(context.path=settings.path),this.createError("array.unique",context,localState,options)}records.set(item,i)}else{if((!ignoreUndefined||void 0!==item)&&void 0!==records[item]){const localState=new State(state.key,[...state.path,i],state.parent,state.reference),context={pos:i,value:value[i],dupePos:records[item],dupeValue:value[records[item]]};return settings.path&&(context.path=settings.path),this.createError("array.unique",context,localState,options)}records[item]=i}}return value})}sparse(enabled){const value=void 0===enabled||!!enabled;if(this._flags.sparse===value)return this;const obj=this.clone();return obj._flags.sparse=value,obj}single(enabled){const value=void 0===enabled||!!enabled;if(this._flags.single===value)return this;const obj=this.clone();return obj._flags.single=value,obj}_fillMissedErrors(errors,requireds,state,options){const knownMisses=[];let unknownMisses=0;for(let i=0;i<requireds.length;++i){const label=requireds[i]._getLabel();label?knownMisses.push(label):++unknownMisses}knownMisses.length?unknownMisses?errors.push(this.createError("array.includesRequiredBoth",{knownMisses:knownMisses,unknownMisses:unknownMisses},{key:state.key,path:state.path},options)):errors.push(this.createError("array.includesRequiredKnowns",{knownMisses:knownMisses},{key:state.key,path:state.path},options)):errors.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:unknownMisses},{key:state.key,path:state.path},options))}_fillOrderedErrors(errors,ordereds,state,options){const requiredOrdereds=[];for(let i=0;i<ordereds.length;++i){"required"===Hoek.reach(ordereds[i],"_flags.presence")&&requiredOrdereds.push(ordereds[i])}requiredOrdereds.length&&this._fillMissedErrors(errors,requiredOrdereds,state,options)}}};module.exports=new internals.Array},{"../../cast":31,"../../ref":34,"../any":38,"../state":48,"@hapi/bourne":5,"@hapi/hoek":20}],41:[function(require,module,exports){(function(Buffer){"use strict";const Hoek=require("@hapi/hoek"),Any=require("../any"),internals={Binary:class extends Any{constructor(){super(),this._type="binary"}_base(value,state,options){const result={value:value};if("string"==typeof value&&options.convert)try{result.value=Buffer.from(value,this._flags.encoding)}catch(e){}return result.errors=Buffer.isBuffer(result.value)?null:this.createError("binary.base",null,state,options),result}encoding(encoding){if(Hoek.assert(Buffer.isEncoding(encoding),"Invalid encoding:",encoding),this._flags.encoding===encoding)return this;const obj=this.clone();return obj._flags.encoding=encoding,obj}min(limit){return Hoek.assert(Number.isSafeInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("min",limit,function(value,state,options){return value.length>=limit?value:this.createError("binary.min",{limit:limit,value:value},state,options)})}max(limit){return Hoek.assert(Number.isSafeInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("max",limit,function(value,state,options){return value.length<=limit?value:this.createError("binary.max",{limit:limit,value:value},state,options)})}length(limit){return Hoek.assert(Number.isSafeInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("length",limit,function(value,state,options){return value.length===limit?value:this.createError("binary.length",{limit:limit,value:value},state,options)})}}};module.exports=new internals.Binary}).call(this,require("buffer").Buffer)},{"../any":38,"@hapi/hoek":20,buffer:63}],42:[function(require,module,exports){"use strict";const Hoek=require("@hapi/hoek"),Any=require("../any"),internals={Set:require("../../set"),Boolean:class extends Any{constructor(){super(),this._type="boolean",this._flags.insensitive=!0,this._inner.truthySet=new internals.Set,this._inner.falsySet=new internals.Set}_base(value,state,options){const result={value:value};if("string"==typeof value&&options.convert){const normalized=this._flags.insensitive?value.toLowerCase():value;result.value="true"===normalized||"false"!==normalized&&value}return"boolean"!=typeof result.value&&(result.value=!!this._inner.truthySet.has(value,null,null,this._flags.insensitive)||!this._inner.falsySet.has(value,null,null,this._flags.insensitive)&&value),result.errors="boolean"==typeof result.value?null:this.createError("boolean.base",{value:value},state,options),result}truthy(...values){const obj=this.clone();values=Hoek.flatten(values);for(let i=0;i<values.length;++i){const value=values[i];Hoek.assert(void 0!==value,"Cannot call truthy with undefined"),obj._inner.truthySet.add(value)}return obj}falsy(...values){const obj=this.clone();values=Hoek.flatten(values);for(let i=0;i<values.length;++i){const value=values[i];Hoek.assert(void 0!==value,"Cannot call falsy with undefined"),obj._inner.falsySet.add(value)}return obj}insensitive(enabled){const insensitive=void 0===enabled||!!enabled;if(this._flags.insensitive===insensitive)return this;const obj=this.clone();return obj._flags.insensitive=insensitive,obj}describe(){const description=super.describe();return description.truthy=[!0,...this._inner.truthySet.values()],description.falsy=[!1,...this._inner.falsySet.values()],description}}};module.exports=new internals.Boolean},{"../../set":36,"../any":38,"@hapi/hoek":20}],43:[function(require,module,exports){"use strict";const Hoek=require("@hapi/hoek"),Any=require("../any"),Ref=require("../../ref"),internals={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};internals.invalidDate=new Date(""),internals.isIsoDate=(()=>{const isoString=internals.isoDate.toString();return date=>date&&date.toString()===isoString})(),internals.Date=class extends Any{constructor(){super(),this._type="date"}_base(value,state,options){const result={value:options.convert&&internals.Date.toDate(value,this._flags.format,this._flags.timestamp,this._flags.multiplier)||value};if(result.value instanceof Date&&!isNaN(result.value.getTime()))result.errors=null;else if(options.convert){let type;type=internals.isIsoDate(this._flags.format)?"isoDate":this._flags.timestamp?`timestamp.${this._flags.timestamp}`:"base",result.errors=this.createError(`date.${type}`,{value:value},state,options)}else result.errors=this.createError("date.strict",{value:value},state,options);return result}static toDate(value,format,timestamp,multiplier){if(value instanceof Date)return value;if("string"==typeof value||"number"==typeof value&&!isNaN(value)&&isFinite(value)){const isIsoDate=format&&internals.isIsoDate(format);let date;if(!isIsoDate&&"string"==typeof value&&/^[+-]?\d+(\.\d+)?$/.test(value)&&(value=parseFloat(value)),date=isIsoDate?format.test(value)?new Date(value.toString()):internals.invalidDate:timestamp?/^\s*$/.test(value)?internals.invalidDate:new Date(value*multiplier):new Date(value),!isNaN(date.getTime()))return date}return null}iso(){if(this._flags.format===internals.isoDate)return this;const obj=this.clone();return obj._flags.format=internals.isoDate,obj}timestamp(type="javascript"){const allowed=["javascript","unix"];if(Hoek.assert(allowed.includes(type),'"type" must be one of "'+allowed.join('", "')+'"'),this._flags.timestamp===type)return this;const obj=this.clone();return obj._flags.timestamp=type,obj._flags.multiplier="unix"===type?1e3:1,obj}_isIsoDate(value){return internals.isoDate.test(value)}},internals.compare=function(type,compare){return function(date){const isNow="now"===date,isRef=Ref.isRef(date);return isNow||isRef||(date=internals.Date.toDate(date)),Hoek.assert(date,"Invalid date format"),this._test(type,date,function(value,state,options){let compareTo;if(isNow)compareTo=Date.now();else if(isRef){const refValue=date(state.reference||state.parent,options);if(!(compareTo=internals.Date.toDate(refValue)))return this.createError("date.ref",{ref:date,value:refValue},state,options);compareTo=compareTo.getTime()}else compareTo=date.getTime();return compare(value.getTime(),compareTo)?value:this.createError("date."+type,{limit:new Date(compareTo),value:value},state,options)})}},internals.Date.prototype.min=internals.compare("min",(value,date)=>value>=date),internals.Date.prototype.max=internals.compare("max",(value,date)=>value<=date),internals.Date.prototype.greater=internals.compare("greater",(value,date)=>value>date),internals.Date.prototype.less=internals.compare("less",(value,date)=>value<date),module.exports=new internals.Date},{"../../ref":34,"../any":38,"@hapi/hoek":20}],44:[function(require,module,exports){"use strict";const Hoek=require("@hapi/hoek"),ObjectType=require("../object"),Ref=require("../../ref"),internals={Func:class extends ObjectType.constructor{constructor(){super(),this._flags.func=!0}arity(n){return Hoek.assert(Number.isSafeInteger(n)&&n>=0,"n must be a positive integer"),this._test("arity",n,function(value,state,options){return value.length===n?value:this.createError("function.arity",{n:n},state,options)})}minArity(n){return Hoek.assert(Number.isSafeInteger(n)&&n>0,"n must be a strict positive integer"),this._test("minArity",n,function(value,state,options){return value.length>=n?value:this.createError("function.minArity",{n:n},state,options)})}maxArity(n){return Hoek.assert(Number.isSafeInteger(n)&&n>=0,"n must be a positive integer"),this._test("maxArity",n,function(value,state,options){return value.length<=n?value:this.createError("function.maxArity",{n:n},state,options)})}ref(){return this._test("ref",null,function(value,state,options){return Ref.isRef(value)?value:this.createError("function.ref",{value:value},state,options)})}class(){return this._test("class",null,function(value,state,options){return/^\s*class\s/.test(value.toString())?value:this.createError("function.class",{value:value},state,options)})}}};module.exports=new internals.Func},{"../../ref":34,"../object":47,"@hapi/hoek":20}],45:[function(require,module,exports){"use strict";const Hoek=require("@hapi/hoek"),Any=require("../any"),internals={Lazy:class extends Any{constructor(){super(),this._type="lazy",this._flags.once=!0,this._cache=null}_init(fn,options){return this.set(fn,options)}_base(value,state,options){let schema;if(this._cache)schema=this._cache;else{const result={value:value},lazy=this._flags.lazy;if(!lazy)return result.errors=this.createError("lazy.base",null,state,options),result;if(!((schema=lazy())instanceof Any))return result.errors=this.createError("lazy.schema",{schema:schema},state,options),result;this._flags.once&&(this._cache=schema)}return schema._validate(value,state,options)}set(fn,options){if(Hoek.assert("function"==typeof fn,"You must provide a function as first argument"),Hoek.assert(void 0===options||options&&"object"==typeof options&&!Array.isArray(options),"Options must be an object"),options){const unknownOptions=Object.keys(options).filter(key=>!["once"].includes(key));Hoek.assert(0===unknownOptions.length,`Options contain unknown keys: ${unknownOptions}`),Hoek.assert(void 0===options.once||"boolean"==typeof options.once,'Option "once" must be a boolean')}const obj=this.clone();return obj._flags.lazy=fn,options&&options.once!==obj._flags.once&&(obj._flags.once=options.once),obj}}};module.exports=new internals.Lazy},{"../any":38,"@hapi/hoek":20}],46:[function(require,module,exports){"use strict";const Hoek=require("@hapi/hoek"),Any=require("../any"),Ref=require("../../ref"),internals={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,normalizeExponent:str=>str.replace(/\.?0+e/,"e").replace(/e\+/,"e").replace(/^\+/,"").replace(/^(-?)0+([1-9])/,"$1$2"),normalizeDecimal:str=>((str=str.replace(/^\+/,"").replace(/\.0+$/,"").replace(/^(-?)0+([1-9])/,"$1$2")).includes(".")&&str.endsWith("0")&&(str=str.replace(/0+$/,"")),str),Number:class extends Any{constructor(){super(),this._type="number",this._flags.unsafe=!1,this._invalids.add(1/0),this._invalids.add(-1/0)}_base(value,state,options){const result={errors:null,value:value};if("string"==typeof value&&options.convert){const matches=value.match(/^\s*[+-]?\d+(?:\.\d+)?(?:e([+-]?\d+))?\s*$/i);if(matches&&(value=value.trim(),result.value=parseFloat(value),!this._flags.unsafe))if(value.includes("e")){if(internals.normalizeExponent(`${result.value/Math.pow(10,matches[1])}e${matches[1]}`)!==internals.normalizeExponent(value))return result.errors=this.createError("number.unsafe",{value:value},state,options),result}else if(result.value.toString()!==internals.normalizeDecimal(value))return result.errors=this.createError("number.unsafe",{value:value},state,options),result}const isNumber="number"==typeof result.value&&!isNaN(result.value);if(options.convert&&"precision"in this._flags&&isNumber){const precision=Math.pow(10,this._flags.precision);result.value=Math.round(result.value*precision)/precision}return isNumber?!this._flags.unsafe&&(value>Number.MAX_SAFE_INTEGER||value<Number.MIN_SAFE_INTEGER)&&(result.errors=this.createError("number.unsafe",{value:value},state,options)):result.errors=this.createError("number.base",{value:value},state,options),result}multiple(base){const isRef=Ref.isRef(base);return isRef||(Hoek.assert("number"==typeof base&&isFinite(base),"multiple must be a number"),Hoek.assert(base>0,"multiple must be greater than 0")),this._test("multiple",base,function(value,state,options){const divisor=isRef?base(state.reference||state.parent,options):base;return!isRef||"number"==typeof divisor&&isFinite(divisor)?value%divisor==0?value:this.createError("number.multiple",{multiple:base,value:value},state,options):this.createError("number.ref",{ref:base.key},state,options)})}integer(){return this._test("integer",void 0,function(value,state,options){return Math.trunc(value)-value==0?value:this.createError("number.integer",{value:value},state,options)})}unsafe(enabled=!0){if(Hoek.assert("boolean"==typeof enabled,"enabled must be a boolean"),this._flags.unsafe===enabled)return this;const obj=this.clone();return obj._flags.unsafe=enabled,obj}negative(){return this._test("negative",void 0,function(value,state,options){return value<0?value:this.createError("number.negative",{value:value},state,options)})}positive(){return this._test("positive",void 0,function(value,state,options){return value>0?value:this.createError("number.positive",{value:value},state,options)})}precision(limit){Hoek.assert(Number.isSafeInteger(limit),"limit must be an integer"),Hoek.assert(!("precision"in this._flags),"precision already set");const obj=this._test("precision",limit,function(value,state,options){const places=value.toString().match(internals.precisionRx);return Math.max((places[1]?places[1].length:0)-(places[2]?parseInt(places[2],10):0),0)<=limit?value:this.createError("number.precision",{limit:limit,value:value},state,options)});return obj._flags.precision=limit,obj}port(){return this._test("port",void 0,function(value,state,options){return!Number.isSafeInteger(value)||value<0||value>65535?this.createError("number.port",{value:value},state,options):value})}},compare:function(type,compare){return function(limit){const isRef=Ref.isRef(limit),isNumber="number"==typeof limit&&!isNaN(limit);return Hoek.assert(isNumber||isRef,"limit must be a number or reference"),this._test(type,limit,function(value,state,options){let compareTo;if(isRef){if("number"!=typeof(compareTo=limit(state.reference||state.parent,options))||isNaN(compareTo))return this.createError("number.ref",{ref:limit.key},state,options)}else compareTo=limit;return compare(value,compareTo)?value:this.createError("number."+type,{limit:compareTo,value:value},state,options)})}}};internals.Number.prototype.min=internals.compare("min",(value,limit)=>value>=limit),internals.Number.prototype.max=internals.compare("max",(value,limit)=>value<=limit),internals.Number.prototype.greater=internals.compare("greater",(value,limit)=>value>limit),internals.Number.prototype.less=internals.compare("less",(value,limit)=>value<limit),module.exports=new internals.Number},{"../../ref":34,"../any":38,"@hapi/hoek":20}],47:[function(require,module,exports){"use strict";const Bourne=require("@hapi/bourne"),Hoek=require("@hapi/hoek"),Topo=require("@hapi/topo"),Any=require("../any"),Errors=require("../../errors"),Cast=require("../../cast"),State=require("../state"),internals={Object:class extends Any{constructor(){super(),this._type="object",this._inner.children=null,this._inner.renames=[],this._inner.dependencies=[],this._inner.patterns=[]}_init(...args){return args.length?this.keys(...args):this}_base(value,state,options){let target=value;const errors=[],finish=()=>({value:target,errors:errors.length?errors:null});if("string"==typeof value&&options.convert&&value.length>1&&("{"===value[0]||/^\s*\{/.test(value)))try{value=Bourne.parse(value)}catch(e){}const type=this._flags.func?"function":"object";if(!value||typeof value!==type||Array.isArray(value))return errors.push(this.createError(type+".base",{value:value},state,options)),finish();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return target=value,finish();if(target===value){"object"===type?target=Object.create(Object.getPrototypeOf(value)):(target=function(...args){return value.apply(this,args)}).prototype=Hoek.clone(value.prototype);const valueKeys=Object.keys(value);for(let i=0;i<valueKeys.length;++i)target[valueKeys[i]]=value[valueKeys[i]]}else target=value;const renamed={};for(let i=0;i<this._inner.renames.length;++i){const rename=this._inner.renames[i];if(rename.isRegExp){const targetKeys=Object.keys(target),matchedTargetKeys=[];for(let j=0;j<targetKeys.length;++j)rename.from.test(targetKeys[j])&&matchedTargetKeys.push(targetKeys[j]);const allUndefined=matchedTargetKeys.every(key=>void 0===target[key]);if(rename.options.ignoreUndefined&&allUndefined)continue;if(!rename.options.multiple&&renamed[rename.to]&&(errors.push(this.createError("object.rename.regex.multiple",{from:matchedTargetKeys,to:rename.to},state,options)),options.abortEarly))return finish();if(Object.prototype.hasOwnProperty.call(target,rename.to)&&!rename.options.override&&!renamed[rename.to]&&(errors.push(this.createError("object.rename.regex.override",{from:matchedTargetKeys,to:rename.to},state,options)),options.abortEarly))return finish();if(allUndefined?delete target[rename.to]:target[rename.to]=target[matchedTargetKeys[matchedTargetKeys.length-1]],renamed[rename.to]=!0,!rename.options.alias)for(let j=0;j<matchedTargetKeys.length;++j)delete target[matchedTargetKeys[j]]}else{if(rename.options.ignoreUndefined&&void 0===target[rename.from])continue;if(!rename.options.multiple&&renamed[rename.to]&&(errors.push(this.createError("object.rename.multiple",{from:rename.from,to:rename.to},state,options)),options.abortEarly))return finish();if(Object.prototype.hasOwnProperty.call(target,rename.to)&&!rename.options.override&&!renamed[rename.to]&&(errors.push(this.createError("object.rename.override",{from:rename.from,to:rename.to},state,options)),options.abortEarly))return finish();void 0===target[rename.from]?delete target[rename.to]:target[rename.to]=target[rename.from],renamed[rename.to]=!0,rename.options.alias||delete target[rename.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return finish();const unprocessed=new Set(Object.keys(target));if(this._inner.children){const stripProps=[];for(let i=0;i<this._inner.children.length;++i){const child=this._inner.children[i],key=child.key,item=target[key];unprocessed.delete(key);const localState=new State(key,[...state.path,key],target,state.reference),result=child.schema._validate(item,localState,options);if(result.errors){if(errors.push(this.createError("object.child",{key:key,child:child.schema._getLabel(key),reason:result.errors},localState,options)),options.abortEarly)return finish()}else child.schema._flags.strip||void 0===result.value&&result.value!==item?(stripProps.push(key),target[key]=result.finalValue):void 0!==result.value&&(target[key]=result.value)}for(let i=0;i<stripProps.length;++i)delete target[stripProps[i]]}if(unprocessed.size&&this._inner.patterns.length)for(const key of unprocessed){const localState=new State(key,[...state.path,key],target,state.reference),item=target[key];for(let i=0;i<this._inner.patterns.length;++i){const pattern=this._inner.patterns[i];if(pattern.regex?pattern.regex.test(key):!pattern.schema._validate(key,state,{...options,abortEarly:!0}).errors){unprocessed.delete(key);const result=pattern.rule._validate(item,localState,options);if(result.errors&&(errors.push(this.createError("object.child",{key:key,child:pattern.rule._getLabel(key),reason:result.errors},localState,options)),options.abortEarly))return finish();target[key]=result.value}}}if(unprocessed.size&&(this._inner.children||this._inner.patterns.length)){if(options.stripUnknown&&!0!==this._flags.allowUnknown||options.skipFunctions){const stripUnknown=!!options.stripUnknown&&(!0===options.stripUnknown||!!options.stripUnknown.objects);for(const key of unprocessed)stripUnknown?(delete target[key],unprocessed.delete(key)):"function"==typeof target[key]&&unprocessed.delete(key)}if(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!options.allowUnknown)for(const unprocessedKey of unprocessed)errors.push(this.createError("object.allowUnknown",{child:unprocessedKey,value:target[unprocessedKey]},{key:unprocessedKey,path:[...state.path,unprocessedKey]},options,{}))}for(let i=0;i<this._inner.dependencies.length;++i){const dep=this._inner.dependencies[i],hasKey=null!==dep.key,splitKey=hasKey&&dep.key.split("."),localState=hasKey?new State(splitKey[splitKey.length-1],[...state.path,...splitKey]):new State(null,state.path),err=internals[dep.type].call(this,dep.key,hasKey&&Hoek.reach(target,dep.key,{functions:!0}),dep.peers,target,localState,options);if(err instanceof Errors.Err&&(errors.push(err),options.abortEarly))return finish()}return finish()}keys(schema){Hoek.assert(null==schema||"object"==typeof schema,"Object schema must be a valid object"),Hoek.assert(!(schema&&schema instanceof Any),"Object schema cannot be a joi schema");const obj=this.clone();if(!schema)return obj._inner.children=null,obj;const children=Object.keys(schema);if(!children.length)return obj._inner.children=[],obj;const topo=new Topo;if(obj._inner.children)for(let i=0;i<obj._inner.children.length;++i){const child=obj._inner.children[i];children.includes(child.key)||topo.add(child,{after:child._refs,group:child.key})}for(let i=0;i<children.length;++i){const key=children[i],child=schema[key];try{const cast=Cast.schema(this._currentJoi,child);topo.add({key:key,schema:cast},{after:cast._refs,group:key})}catch(castErr){throw castErr.hasOwnProperty("path")?castErr.path=key+"."+castErr.path:castErr.path=key,castErr}}return obj._inner.children=topo.nodes,obj}append(schema){return null==schema||0===Object.keys(schema).length?this:this.keys(schema)}unknown(allow){const value=!1!==allow;if(this._flags.allowUnknown===value)return this;const obj=this.clone();return obj._flags.allowUnknown=value,obj}length(limit){return Hoek.assert(Number.isSafeInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("length",limit,function(value,state,options){return Object.keys(value).length===limit?value:this.createError("object.length",{limit:limit,value:value},state,options)})}min(limit){return Hoek.assert(Number.isSafeInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("min",limit,function(value,state,options){return Object.keys(value).length>=limit?value:this.createError("object.min",{limit:limit,value:value},state,options)})}max(limit){return Hoek.assert(Number.isSafeInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("max",limit,function(value,state,options){return Object.keys(value).length<=limit?value:this.createError("object.max",{limit:limit,value:value},state,options)})}pattern(pattern,schema){const isRegExp=pattern instanceof RegExp;Hoek.assert(isRegExp||pattern instanceof Any,"pattern must be a regex or schema"),Hoek.assert(void 0!==schema,"Invalid rule"),isRegExp&&Hoek.assert(!pattern.flags.includes("g")&&!pattern.flags.includes("y"),"pattern should not use global or sticky mode");try{schema=Cast.schema(this._currentJoi,schema)}catch(castErr){throw castErr.hasOwnProperty("path")&&(castErr.message=`${castErr.message}(${castErr.path})`),castErr}const obj=this.clone();return isRegExp?obj._inner.patterns.push({regex:pattern,rule:schema}):obj._inner.patterns.push({schema:pattern,rule:schema}),obj}schema(){return this._test("schema",null,function(value,state,options){return value instanceof Any?value:this.createError("object.schema",null,state,options)})}with(key,peers){return Hoek.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("with",key,peers)}without(key,peers){return Hoek.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("without",key,peers)}xor(...peers){return peers=Hoek.flatten(peers),this._dependency("xor",null,peers)}oxor(...peers){return this._dependency("oxor",null,peers)}or(...peers){return peers=Hoek.flatten(peers),this._dependency("or",null,peers)}and(...peers){return peers=Hoek.flatten(peers),this._dependency("and",null,peers)}nand(...peers){return peers=Hoek.flatten(peers),this._dependency("nand",null,peers)}requiredKeys(...children){return children=Hoek.flatten(children),this.applyFunctionToChildren(children,"required")}optionalKeys(...children){return children=Hoek.flatten(children),this.applyFunctionToChildren(children,"optional")}forbiddenKeys(...children){return children=Hoek.flatten(children),this.applyFunctionToChildren(children,"forbidden")}rename(from,to,options){Hoek.assert("string"==typeof from||from instanceof RegExp,"Rename missing the from argument"),Hoek.assert("string"==typeof to,"Rename missing the to argument"),Hoek.assert(to!==from,"Cannot rename key to same name:",from);for(let i=0;i<this._inner.renames.length;++i)Hoek.assert(this._inner.renames[i].from!==from,"Cannot rename the same key multiple times");const obj=this.clone();return obj._inner.renames.push({from:from,to:to,options:Hoek.applyToDefaults(internals.renameDefaults,options||{}),isRegExp:from instanceof RegExp}),obj}applyFunctionToChildren(children,fn,args=[],root){children=[].concat(children),Hoek.assert(children.length>0,"expected at least one children");const groupedChildren=internals.groupChildren(children);let obj;if(""in groupedChildren?(obj=this[fn](...args),delete groupedChildren[""]):obj=this.clone(),obj._inner.children){root=root?root+".":"";for(let i=0;i<obj._inner.children.length;++i){const child=obj._inner.children[i],group=groupedChildren[child.key];group&&(obj._inner.children[i]={key:child.key,_refs:child._refs,schema:child.schema.applyFunctionToChildren(group,fn,args,root+child.key)},delete groupedChildren[child.key])}}const remaining=Object.keys(groupedChildren);return Hoek.assert(0===remaining.length,"unknown key(s)",remaining.join(", ")),obj}_dependency(type,key,peers){peers=[].concat(peers);for(let i=0;i<peers.length;++i)Hoek.assert("string"==typeof peers[i],type,"peers must be a string or array of strings");const obj=this.clone();return obj._inner.dependencies.push({type:type,key:key,peers:peers}),obj}describe(shallow){const description=super.describe();if(description.rules)for(let i=0;i<description.rules.length;++i){const rule=description.rules[i];rule.arg&&"object"==typeof rule.arg&&rule.arg.schema&&rule.arg.ref&&(rule.arg={schema:rule.arg.schema.describe(),ref:rule.arg.ref.toString()})}if(this._inner.children&&!shallow){description.children={};for(let i=0;i<this._inner.children.length;++i){const child=this._inner.children[i];description.children[child.key]=child.schema.describe()}}if(this._inner.dependencies.length&&(description.dependencies=Hoek.clone(this._inner.dependencies)),this._inner.patterns.length){description.patterns=[];for(let i=0;i<this._inner.patterns.length;++i){const pattern=this._inner.patterns[i];pattern.regex?description.patterns.push({regex:pattern.regex.toString(),rule:pattern.rule.describe()}):description.patterns.push({schema:pattern.schema.describe(),rule:pattern.rule.describe()})}}return this._inner.renames.length>0&&(description.renames=Hoek.clone(this._inner.renames)),description}assert(ref,schema,message){ref=Cast.ref(ref),Hoek.assert(ref.isContext||ref.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),message=message||"pass the assertion test",Hoek.assert("string"==typeof message,"Message must be a string");try{schema=Cast.schema(this._currentJoi,schema)}catch(castErr){throw castErr.hasOwnProperty("path")&&(castErr.message=`${castErr.message}(${castErr.path})`),castErr}const key=ref.path[ref.path.length-1],path=ref.path.join(".");return this._test("assert",{schema:schema,ref:ref},function(value,state,options){if(!schema._validate(ref(value),null,options,value).errors)return value;const localState=new State(key,ref.path,state.parent,state.reference);return this.createError("object.assert",{ref:path,message:message},localState,options)})}type(constructor,name=constructor.name){Hoek.assert("function"==typeof constructor,"type must be a constructor function");const typeData={name:name,ctor:constructor};return this._test("type",typeData,function(value,state,options){return value instanceof constructor?value:this.createError("object.type",{type:typeData.name,value:value},state,options)})}},renameDefaults:{alias:!1,multiple:!1,override:!1},groupChildren:function(children){children.sort();const grouped={};for(let i=0;i<children.length;++i){const child=children[i];Hoek.assert("string"==typeof child,"children must be strings");const group=child.split(".")[0];(grouped[group]=grouped[group]||[]).push(child.substring(group.length+1))}return grouped},keysToLabels:function(schema,keys){if(!schema._inner.children)return keys;const findLabel=function(key){const matchingChild=schema._currentJoi.reach(schema,key);return matchingChild?matchingChild._getLabel(key):key};return Array.isArray(keys)?keys.map(findLabel):findLabel(keys)},with:function(key,value,peers,parent,state,options){if(void 0!==value)for(let i=0;i<peers.length;++i){const peer=peers[i];if(void 0===Hoek.reach(parent,peer,{functions:!0}))return this.createError("object.with",{main:key,mainWithLabel:internals.keysToLabels(this,key),peer:peer,peerWithLabel:internals.keysToLabels(this,peer)},state,options)}},without:function(key,value,peers,parent,state,options){if(void 0!==value)for(let i=0;i<peers.length;++i){const peer=peers[i];if(void 0!==Hoek.reach(parent,peer,{functions:!0}))return this.createError("object.without",{main:key,mainWithLabel:internals.keysToLabels(this,key),peer:peer,peerWithLabel:internals.keysToLabels(this,peer)},state,options)}},xor:function(key,value,peers,parent,state,options){const present=[];for(let i=0;i<peers.length;++i){const peer=peers[i];void 0!==Hoek.reach(parent,peer,{functions:!0})&&present.push(peer)}if(1===present.length)return;const context={peers:peers,peersWithLabels:internals.keysToLabels(this,peers)};return 0===present.length?this.createError("object.missing",context,state,options):(context.present=present,context.presentWithLabels=internals.keysToLabels(this,present),this.createError("object.xor",context,state,options))},oxor:function(key,value,peers,parent,state,options){const present=[];for(let i=0;i<peers.length;++i){const peer=peers[i];void 0!==Hoek.reach(parent,peer,{functions:!0})&&present.push(peer)}if(!present.length||1===present.length)return;const context={peers:peers,peersWithLabels:internals.keysToLabels(this,peers)};return context.present=present,context.presentWithLabels=internals.keysToLabels(this,present),this.createError("object.oxor",context,state,options)},or:function(key,value,peers,parent,state,options){for(let i=0;i<peers.length;++i){const peer=peers[i];if(void 0!==Hoek.reach(parent,peer,{functions:!0}))return}return this.createError("object.missing",{peers:peers,peersWithLabels:internals.keysToLabels(this,peers)},state,options)},and:function(key,value,peers,parent,state,options){const missing=[],present=[],count=peers.length;for(let i=0;i<count;++i){const peer=peers[i];void 0===Hoek.reach(parent,peer,{functions:!0})?missing.push(peer):present.push(peer)}if(!(missing.length===count||present.length===count))return this.createError("object.and",{present:present,presentWithLabels:internals.keysToLabels(this,present),missing:missing,missingWithLabels:internals.keysToLabels(this,missing)},state,options)},nand:function(key,value,peers,parent,state,options){const present=[];for(let i=0;i<peers.length;++i){const peer=peers[i];void 0!==Hoek.reach(parent,peer,{functions:!0})&&present.push(peer)}const main=peers[0],values=peers.slice(1);return present.length===peers.length?this.createError("object.nand",{main:main,mainWithLabel:internals.keysToLabels(this,main),peers:values,peersWithLabels:internals.keysToLabels(this,values)},state,options):null}};module.exports=new internals.Object},{"../../cast":31,"../../errors":32,"../any":38,"../state":48,"@hapi/bourne":5,"@hapi/hoek":20,"@hapi/topo":56}],48:[function(require,module,exports){"use strict";module.exports=class{constructor(key,path,parent,reference){this.key=key,this.path=path,this.parent=parent,this.reference=reference}}},{}],49:[function(require,module,exports){(function(Buffer){"use strict";const Net=require("net"),Address=require("@hapi/address"),Hoek=require("@hapi/hoek"),Any=require("../any"),Ref=require("../../ref"),JoiDate=require("../date"),Uri=require("./uri"),Ip=require("./ip"),internals={uriRegex:Uri.createUriRegex(),ipRegex:Ip.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"],String:class extends Any{constructor(){super(),this._type="string",this._invalids.add("")}_base(value,state,options){if("string"==typeof value&&options.convert){if(this._flags.normalize&&(value=value.normalize(this._flags.normalize)),this._flags.case&&(value="upper"===this._flags.case?value.toLocaleUpperCase():value.toLocaleLowerCase()),this._flags.trim&&(value=value.trim()),this._inner.replacements)for(let i=0;i<this._inner.replacements.length;++i){const replacement=this._inner.replacements[i];value=value.replace(replacement.pattern,replacement.replacement)}if(this._flags.truncate)for(let i=0;i<this._tests.length;++i){const test=this._tests[i];if("max"===test.name){value=value.slice(0,test.arg);break}}this._flags.byteAligned&&value.length%2!=0&&(value=`0${value}`)}return{value:value,errors:"string"==typeof value?null:this.createError("string.base",{value:value},state,options)}}insensitive(){if(this._flags.insensitive)return this;const obj=this.clone();return obj._flags.insensitive=!0,obj}creditCard(){return this._test("creditCard",void 0,function(value,state,options){let i=value.length,sum=0,mul=1;for(;i--;){const char=value.charAt(i)*mul;sum+=char-9*(char>9),mul^=3}return sum%10==0&&sum>0?value:this.createError("string.creditCard",{value:value},state,options)})}regex(pattern,patternOptions){Hoek.assert(pattern instanceof RegExp,"pattern must be a RegExp"),Hoek.assert(!pattern.flags.includes("g")&&!pattern.flags.includes("y"),"pattern should not use global or sticky mode");const patternObject={pattern:pattern};"string"==typeof patternOptions?patternObject.name=patternOptions:"object"==typeof patternOptions&&(patternObject.invert=!!patternOptions.invert,patternOptions.name&&(patternObject.name=patternOptions.name));const errorCode=["string.regex",patternObject.invert?".invert":"",patternObject.name?".name":".base"].join("");return this._test("regex",patternObject,function(value,state,options){return patternObject.pattern.test(value)^patternObject.invert?value:this.createError(errorCode,{name:patternObject.name,pattern:patternObject.pattern,value:value},state,options)})}alphanum(){return this._test("alphanum",void 0,function(value,state,options){return/^[a-zA-Z0-9]+$/.test(value)?value:this.createError("string.alphanum",{value:value},state,options)})}token(){return this._test("token",void 0,function(value,state,options){return/^\w+$/.test(value)?value:this.createError("string.token",{value:value},state,options)})}email(validationOptions){if(validationOptions){if(Hoek.assert("object"==typeof validationOptions,"email options must be an object"),Hoek.assert(void 0===validationOptions.checkDNS,"checkDNS option is not supported"),Hoek.assert(void 0===validationOptions.errorLevel,"errorLevel option is not supported"),Hoek.assert(void 0===validationOptions.minDomainAtoms,"minDomainAtoms option is not supported, use minDomainSegments instead"),Hoek.assert(void 0===validationOptions.tldBlacklist,"tldBlacklist option is not supported, use tlds.deny instead"),Hoek.assert(void 0===validationOptions.tldWhitelist,"tldWhitelist option is not supported, use tlds.allow instead"),validationOptions.tlds&&"object"==typeof validationOptions.tlds){Hoek.assert(void 0===validationOptions.tlds.allow||!1===validationOptions.tlds.allow||!0===validationOptions.tlds.allow||Array.isArray(validationOptions.tlds.allow)||validationOptions.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),Hoek.assert(void 0===validationOptions.tlds.deny||Array.isArray(validationOptions.tlds.deny)||validationOptions.tlds.deny instanceof Set,"tlds.deny must be an array or Set");const normalizeTable=table=>void 0===table||"boolean"==typeof table||table instanceof Set?table:new Set(table);(validationOptions=Object.assign({},validationOptions)).tlds={allow:normalizeTable(validationOptions.tlds.allow),deny:normalizeTable(validationOptions.tlds.deny)}}Hoek.assert(void 0===validationOptions.minDomainSegments||Number.isSafeInteger(validationOptions.minDomainSegments)&&validationOptions.minDomainSegments>0,"minDomainSegments must be a positive integer")}return this._test("email",validationOptions,function(value,state,options){return Address.email.isValid(value,validationOptions)?value:this.createError("string.email",{value:value},state,options)})}ip(ipOptions={}){let versions,regex=internals.ipRegex;if(Hoek.assert("object"==typeof ipOptions,"options must be an object"),ipOptions.cidr?(Hoek.assert("string"==typeof ipOptions.cidr,"cidr must be a string"),ipOptions.cidr=ipOptions.cidr.toLowerCase(),Hoek.assert(Hoek.contain(internals.cidrPresences,ipOptions.cidr),"cidr must be one of "+internals.cidrPresences.join(", ")),ipOptions.version||"optional"===ipOptions.cidr||(regex=Ip.createIpRegex(["ipv4","ipv6","ipvfuture"],ipOptions.cidr))):ipOptions.cidr="optional",ipOptions.version){Array.isArray(ipOptions.version)||(ipOptions.version=[ipOptions.version]),Hoek.assert(ipOptions.version.length>=1,"version must have at least 1 version specified"),versions=[];for(let i=0;i<ipOptions.version.length;++i){let version=ipOptions.version[i];Hoek.assert("string"==typeof version,"version at position "+i+" must be a string"),version=version.toLowerCase(),Hoek.assert(Ip.versions[version],"version at position "+i+" must be one of "+Object.keys(Ip.versions).join(", ")),versions.push(version)}versions=Array.from(new Set(versions)),regex=Ip.createIpRegex(versions,ipOptions.cidr)}return this._test("ip",ipOptions,function(value,state,options){return regex.test(value)?value:versions?this.createError("string.ipVersion",{value:value,cidr:ipOptions.cidr,version:versions},state,options):this.createError("string.ip",{value:value,cidr:ipOptions.cidr},state,options)})}uri(uriOptions){let customScheme="",allowRelative=!1,relativeOnly=!1,allowQuerySquareBrackets=!1,regex=internals.uriRegex;if(uriOptions){Hoek.assert("object"==typeof uriOptions,"options must be an object");const unknownOptions=Object.keys(uriOptions).filter(key=>!["scheme","allowRelative","relativeOnly","allowQuerySquareBrackets"].includes(key));if(Hoek.assert(0===unknownOptions.length,`options contain unknown keys: ${unknownOptions}`),uriOptions.scheme){Hoek.assert(uriOptions.scheme instanceof RegExp||"string"==typeof uriOptions.scheme||Array.isArray(uriOptions.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(uriOptions.scheme)||(uriOptions.scheme=[uriOptions.scheme]),Hoek.assert(uriOptions.scheme.length>=1,"scheme must have at least 1 scheme specified");for(let i=0;i<uriOptions.scheme.length;++i){const scheme=uriOptions.scheme[i];Hoek.assert(scheme instanceof RegExp||"string"==typeof scheme,"scheme at position "+i+" must be a RegExp or String"),customScheme+=customScheme?"|":"",scheme instanceof RegExp?customScheme+=scheme.source:(Hoek.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(scheme),"scheme at position "+i+" must be a valid scheme"),customScheme+=Hoek.escapeRegex(scheme))}}uriOptions.allowRelative&&(allowRelative=!0),uriOptions.relativeOnly&&(relativeOnly=!0),uriOptions.allowQuerySquareBrackets&&(allowQuerySquareBrackets=!0)}return(customScheme||allowRelative||relativeOnly||allowQuerySquareBrackets)&&(regex=Uri.createUriRegex(customScheme,allowRelative,relativeOnly,allowQuerySquareBrackets)),this._test("uri",uriOptions,function(value,state,options){return regex.test(value)?value:relativeOnly?this.createError("string.uriRelativeOnly",{value:value},state,options):customScheme?this.createError("string.uriCustomScheme",{scheme:customScheme,value:value},state,options):this.createError("string.uri",{value:value},state,options)})}isoDate(){return this._test("isoDate",void 0,function(value,state,options){if(JoiDate._isIsoDate(value)){if(!options.convert)return value;const d=new Date(value);if(!isNaN(d.getTime()))return d.toISOString()}return this.createError("string.isoDate",{value:value},state,options)})}guid(guidOptions){let versionNumbers="";if(guidOptions&&guidOptions.version){Array.isArray(guidOptions.version)||(guidOptions.version=[guidOptions.version]),Hoek.assert(guidOptions.version.length>=1,"version must have at least 1 valid version specified");const versions=new Set;for(let i=0;i<guidOptions.version.length;++i){let version=guidOptions.version[i];Hoek.assert("string"==typeof version,"version at position "+i+" must be a string"),version=version.toLowerCase();const versionNumber=internals.guidVersions[version];Hoek.assert(versionNumber,"version at position "+i+" must be one of "+Object.keys(internals.guidVersions).join(", ")),Hoek.assert(!versions.has(versionNumber),"version at position "+i+" must not be a duplicate."),versionNumbers+=versionNumber,versions.add(versionNumber)}}const guidRegex=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?[${versionNumbers||"0-9A-F"}][0-9A-F]{3}\\2?[${versionNumbers?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this._test("guid",guidOptions,function(value,state,options){const results=guidRegex.exec(value);return results?internals.guidBrackets[results[1]]!==results[results.length-1]?this.createError("string.guid",{value:value},state,options):value:this.createError("string.guid",{value:value},state,options)})}hex(hexOptions={}){Hoek.assert("object"==typeof hexOptions,"hex options must be an object"),Hoek.assert(void 0===hexOptions.byteAligned||"boolean"==typeof hexOptions.byteAligned,"byteAligned must be boolean");const byteAligned=!0===hexOptions.byteAligned,regex=/^[a-f0-9]+$/i,obj=this._test("hex",regex,function(value,state,options){return regex.test(value)?byteAligned&&value.length%2!=0?this.createError("string.hexAlign",{value:value},state,options):value:this.createError("string.hex",{value:value},state,options)});return byteAligned&&(obj._flags.byteAligned=!0),obj}base64(base64Options={}){Hoek.assert("object"==typeof base64Options,"base64 options must be an object"),Hoek.assert(void 0===base64Options.paddingRequired||"boolean"==typeof base64Options.paddingRequired,"paddingRequired must be boolean");const regex=(!1===base64Options.paddingRequired?base64Options.paddingRequired:base64Options.paddingRequired||!0)?/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("base64",regex,function(value,state,options){return regex.test(value)?value:this.createError("string.base64",{value:value},state,options)})}dataUri(dataUriOptions={}){const regex=/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,base64regex=(!1===dataUriOptions.paddingRequired?dataUriOptions.paddingRequired:dataUriOptions.paddingRequired||!0)?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("dataUri",regex,function(value,state,options){const matches=value.match(regex);if(matches){if(!matches[2])return value;if("base64"!==matches[2])return value;if(base64regex.test(matches[3]))return value}return this.createError("string.dataUri",{value:value},state,options)})}hostname(){const regex=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,function(value,state,options){return value.length<=255&&regex.test(value)||Net.isIPv6(value)?value:this.createError("string.hostname",{value:value},state,options)})}normalize(form="NFC"){Hoek.assert(Hoek.contain(internals.normalizationForms,form),"normalization form must be one of "+internals.normalizationForms.join(", "));const obj=this._test("normalize",form,function(value,state,options){return options.convert||value===value.normalize(form)?value:this.createError("string.normalize",{value:value,form:form},state,options)});return obj._flags.normalize=form,obj}lowercase(){const obj=this._test("lowercase",void 0,function(value,state,options){return options.convert||value===value.toLocaleLowerCase()?value:this.createError("string.lowercase",{value:value},state,options)});return obj._flags.case="lower",obj}uppercase(){const obj=this._test("uppercase",void 0,function(value,state,options){return options.convert||value===value.toLocaleUpperCase()?value:this.createError("string.uppercase",{value:value},state,options)});return obj._flags.case="upper",obj}trim(enabled=!0){if(Hoek.assert("boolean"==typeof enabled,"option must be a boolean"),this._flags.trim&&enabled||!this._flags.trim&&!enabled)return this;let obj;return enabled?obj=this._test("trim",void 0,function(value,state,options){return options.convert||value===value.trim()?value:this.createError("string.trim",{value:value},state,options)}):(obj=this.clone())._tests=obj._tests.filter(test=>"trim"!==test.name),obj._flags.trim=enabled,obj}replace(pattern,replacement){"string"==typeof pattern&&(pattern=new RegExp(Hoek.escapeRegex(pattern),"g")),Hoek.assert(pattern instanceof RegExp,"pattern must be a RegExp"),Hoek.assert("string"==typeof replacement,"replacement must be a String");const obj=this.clone();return obj._inner.replacements||(obj._inner.replacements=[]),obj._inner.replacements.push({pattern:pattern,replacement:replacement}),obj}truncate(enabled){const value=void 0===enabled||!!enabled;if(this._flags.truncate===value)return this;const obj=this.clone();return obj._flags.truncate=value,obj}},compare:function(type,compare){return function(limit,encoding){const isRef=Ref.isRef(limit);return Hoek.assert(Number.isSafeInteger(limit)&&limit>=0||isRef,"limit must be a positive integer or reference"),Hoek.assert(!encoding||Buffer.isEncoding(encoding),"Invalid encoding:",encoding),this._test(type,limit,function(value,state,options){let compareTo;if(isRef){if(compareTo=limit(state.reference||state.parent,options),!Number.isSafeInteger(compareTo))return this.createError("string.ref",{ref:limit,value:compareTo},state,options)}else compareTo=limit;return compare(value,compareTo,encoding)?value:this.createError("string."+type,{limit:compareTo,value:value,encoding:encoding},state,options)})}}};internals.String.prototype.min=internals.compare("min",(value,limit,encoding)=>{return(encoding?Buffer.byteLength(value,encoding):value.length)>=limit}),internals.String.prototype.max=internals.compare("max",(value,limit,encoding)=>{return(encoding?Buffer.byteLength(value,encoding):value.length)<=limit}),internals.String.prototype.length=internals.compare("length",(value,limit,encoding)=>{return(encoding?Buffer.byteLength(value,encoding):value.length)===limit}),internals.String.prototype.uuid=internals.String.prototype.guid,module.exports=new internals.String}).call(this,require("buffer").Buffer)},{"../../ref":34,"../any":38,"../date":43,"./ip":50,"./uri":52,"@hapi/address":3,"@hapi/hoek":20,buffer:63,net:58}],50:[function(require,module,exports){"use strict";const RFC3986=require("./rfc3986"),internals={Ip:{cidrs:{ipv4:{required:"\\/(?:"+RFC3986.ipv4Cidr+")",optional:"(?:\\/(?:"+RFC3986.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+RFC3986.ipv6Cidr,optional:"(?:\\/"+RFC3986.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+RFC3986.ipv6Cidr,optional:"(?:\\/"+RFC3986.ipv6Cidr+")?",forbidden:""}},versions:{ipv4:RFC3986.IPv4address,ipv6:RFC3986.IPv6address,ipvfuture:RFC3986.IPvFuture}}};internals.Ip.createIpRegex=function(versions,cidr){let regex;for(let i=0;i<versions.length;++i){const version=versions[i];regex?regex+="|"+internals.Ip.versions[version]+internals.Ip.cidrs[version][cidr]:regex="^(?:"+internals.Ip.versions[version]+internals.Ip.cidrs[version][cidr]}return new RegExp(regex+")$")},module.exports=internals.Ip},{"./rfc3986":51}],51:[function(require,module,exports){"use strict";const internals={rfc3986:{},generate:function(){const or="|";internals.rfc3986.ipv4Cidr="[0-9]|[1-2][0-9]|3[0-2]",internals.rfc3986.ipv6Cidr="(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])";const unreserved="a-zA-Z0-9-\\._~",subDelims="!\\$&'\\(\\)\\*\\+,;=",pchar=unreserved+"%0-9A-Fa-f"+subDelims+":@",pcharOnly="["+pchar+"]",decOctect="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";internals.rfc3986.IPv4address="(?:"+decOctect+"\\.){3}"+decOctect;const h16="[0-9A-Fa-f]{1,4}",ls32="(?:"+h16+":"+h16+"|"+internals.rfc3986.IPv4address+")",IPv6SixHex="(?:"+h16+":){6}"+ls32,IPv6FiveHex="::(?:"+h16+":){5}"+ls32,IPv6FourHex="(?:"+h16+")?::(?:"+h16+":){4}"+ls32,IPv6ThreeHex="(?:(?:"+h16+":){0,1}"+h16+")?::(?:"+h16+":){3}"+ls32,IPv6TwoHex="(?:(?:"+h16+":){0,2}"+h16+")?::(?:"+h16+":){2}"+ls32,IPv6OneHex="(?:(?:"+h16+":){0,3}"+h16+")?::"+h16+":"+ls32,IPv6NoneHex="(?:(?:"+h16+":){0,4}"+h16+")?::"+ls32;internals.rfc3986.IPv6address="(?:"+IPv6SixHex+or+IPv6FiveHex+or+IPv6FourHex+or+IPv6ThreeHex+or+IPv6TwoHex+or+IPv6OneHex+or+IPv6NoneHex+or+"(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}"+or+"(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)",internals.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.["+unreserved+subDelims+":]+",internals.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";const authority="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:]*@)?"+("(?:"+("\\[(?:"+internals.rfc3986.IPv6address+or+internals.rfc3986.IPvFuture+")\\]")+or+internals.rfc3986.IPv4address+or+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=]{0,255})")+"(?::[0-9]*)?",segmentNz=pcharOnly+"+",pathAbEmpty="(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",pathAbsolute="\\/(?:"+segmentNz+pathAbEmpty+")?";internals.rfc3986.hierPart="(?:(?:\\/\\/"+authority+pathAbEmpty+")"+or+pathAbsolute+or+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*)",internals.rfc3986.relativeRef="(?:(?:\\/\\/"+authority+pathAbEmpty+")"+or+pathAbsolute+or+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*"+or+")",internals.rfc3986.query="["+pchar+"\\/\\?]*(?=#|$)",internals.rfc3986.queryWithSquareBrackets="["+pchar+"\\[\\]\\/\\?]*(?=#|$)",internals.rfc3986.fragment="["+pchar+"\\/\\?]*"}};internals.generate(),module.exports=internals.rfc3986},{}],52:[function(require,module,exports){"use strict";const RFC3986=require("./rfc3986"),internals={Uri:{createUriRegex:function(optionalScheme,allowRelative,relativeOnly,allowQuerySquareBrackets){let prefix,scheme=RFC3986.scheme;if(relativeOnly)prefix="(?:"+RFC3986.relativeRef+")";else{optionalScheme&&(scheme="(?:"+optionalScheme+")");const withScheme="(?:"+scheme+":"+RFC3986.hierPart+")";prefix=allowRelative?"(?:"+withScheme+"|"+RFC3986.relativeRef+")":withScheme}return new RegExp("^"+prefix+"(?:\\?"+(allowQuerySquareBrackets?RFC3986.queryWithSquareBrackets:RFC3986.query)+")?(?:#"+RFC3986.fragment+")?$")}}};module.exports=internals.Uri},{"./rfc3986":51}],53:[function(require,module,exports){"use strict";const Util=require("util"),Hoek=require("@hapi/hoek"),Any=require("../any"),internals={Map:class extends Map{slice(){return new internals.Map(this)}toString(){return Util.inspect(this)}},Symbol:class extends Any{constructor(){super(),this._type="symbol",this._inner.map=new internals.Map}_base(value,state,options){if(options.convert){const lookup=this._inner.map.get(value);if(lookup&&(value=lookup),this._flags.allowOnly)return{value:value,errors:"symbol"==typeof value?null:this.createError("symbol.map",{value:value,map:this._inner.map},state,options)}}return{value:value,errors:"symbol"==typeof value?null:this.createError("symbol.base",{value:value},state,options)}}map(iterable){iterable&&!iterable[Symbol.iterator]&&"object"==typeof iterable&&(iterable=Object.entries(iterable)),Hoek.assert(iterable&&iterable[Symbol.iterator],"Iterable must be an iterable or object");const obj=this.clone(),symbols=[];for(const entry of iterable){Hoek.assert(entry&&entry[Symbol.iterator],"Entry must be an iterable");const[key,value]=entry;Hoek.assert("object"!=typeof key&&"function"!=typeof key&&"symbol"!=typeof key,"Key must not be an object, function, or Symbol"),Hoek.assert("symbol"==typeof value,"Value must be a Symbol"),obj._inner.map.set(key,value),symbols.push(value)}return obj.valid(...symbols)}describe(){const description=super.describe();return description.map=new Map(this._inner.map),description}}};module.exports=new internals.Symbol},{"../any":38,"@hapi/hoek":20,util:62}],54:[function(require,module,exports){"use strict";module.exports={settingsCache:Symbol("settingsCache")}},{}],55:[function(require,module,exports){module.exports={name:"@hapi/joi",description:"Object schema validation",version:"15.1.1",homepage:"https://github.com/hapijs/joi",repository:"git://github.com/hapijs/joi",main:"lib/index.js",keywords:["schema","validation"],dependencies:{"@hapi/address":"2.x.x","@hapi/bourne":"1.x.x","@hapi/hoek":"8.x.x","@hapi/topo":"3.x.x"},devDependencies:{"@hapi/code":"6.x.x","@hapi/lab":"20.x.x"},scripts:{test:"lab -t 100 -a @hapi/code -L","test-cov-html":"lab -r html -o coverage.html -a @hapi/code"},license:"BSD-3-Clause"}},{}],56:[function(require,module,exports){"use strict";const Assert=require("@hapi/hoek/lib/assert"),internals={};module.exports=class{constructor(){this._items=[],this.nodes=[]}add(nodes,options){const before=[].concat((options=options||{}).before||[]),after=[].concat(options.after||[]),group=options.group||"?",sort=options.sort||0;Assert(!before.includes(group),`Item cannot come before itself: ${group}`),Assert(!before.includes("?"),"Item cannot come before unassociated items"),Assert(!after.includes(group),`Item cannot come after itself: ${group}`),Assert(!after.includes("?"),"Item cannot come after unassociated items"),Array.isArray(nodes)||(nodes=[nodes]);for(const node of nodes){const item={seq:this._items.length,sort:sort,before:before,after:after,group:group,node:node};this._items.push(item)}const valid=this._sort();return Assert(valid,"item","?"!==group?`added into group ${group}`:"","created a dependencies error"),this.nodes}merge(others){Array.isArray(others)||(others=[others]);for(const other of others)if(other)for(const item of other._items)this._items.push(Object.assign({},item));this._items.sort(internals.mergeSort);for(let i=0;i<this._items.length;++i)this._items[i].seq=i;const valid=this._sort();return Assert(valid,"merge created a dependencies error"),this.nodes}_sort(){const graph={},graphAfters=Object.create(null),groups=Object.create(null);for(const item of this._items){const seq=item.seq,group=item.group;groups[group]=groups[group]||[],groups[group].push(seq),graph[seq]=item.before;for(const after of item.after)graphAfters[after]=graphAfters[after]||[],graphAfters[after].push(seq)}for(const node in graph){const expandedGroups=[];for(const graphNodeItem in graph[node]){const group=graph[node][graphNodeItem];groups[group]=groups[group]||[],expandedGroups.push(...groups[group])}graph[node]=expandedGroups}for(const group in graphAfters)if(groups[group])for(const node of groups[group])graph[node].push(...graphAfters[group]);const ancestors={};for(const node in graph){const children=graph[node];for(const child of children)ancestors[child]=ancestors[child]||[],ancestors[child].push(node)}const visited={},sorted=[];for(let i=0;i<this._items.length;++i){let next=i;if(ancestors[i]){next=null;for(let j=0;j<this._items.length;++j){if(!0===visited[j])continue;ancestors[j]||(ancestors[j]=[]);const shouldSeeCount=ancestors[j].length;let seenCount=0;for(let k=0;k<shouldSeeCount;++k)visited[ancestors[j][k]]&&++seenCount;if(seenCount===shouldSeeCount){next=j;break}}}null!==next&&(visited[next]=!0,sorted.push(next))}if(sorted.length!==this._items.length)return!1;const seqIndex={};for(const item of this._items)seqIndex[item.seq]=item;this._items=[],this.nodes=[];for(const value of sorted){const sortedItem=seqIndex[value];this.nodes.push(sortedItem.node),this._items.push(sortedItem)}return!0}},internals.mergeSort=((a,b)=>a.sort===b.sort?0:a.sort<b.sort?-1:1)},{"@hapi/hoek/lib/assert":7}],57:[function(require,module,exports){"use strict";exports.byteLength=function(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function(b64){var tmp,i,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"="));return parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function encodeChunk(uint8,start,end){for(var tmp,num,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(lookup[(num=tmp)>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]);return output.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],58:[function(require,module,exports){},{}],59:[function(require,module,exports){(function(global){!function(root){var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule="object"==typeof module&&module&&!module.nodeType&&module,freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal);var punycode,key,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return parts.length>1&&(result=parts[0]+"@",string=parts[1]),result+map((string=string.replace(regexSeparators,".")).split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)(value=string.charCodeAt(counter++))>=55296&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return value>65535&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,codePoint,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for((basic=input.lastIndexOf(delimiter))<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),((digit=(codePoint=input.charCodeAt(index++))-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base)>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,!(digit<(t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias));k+=base)w>floor(maxInt/(baseMinusT=base-t))&&error("overflow"),w*=baseMinusT;bias=adapt(i-oldi,out=output.length+1,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(inputLength=(input=ucs2decode(input)).length,n=initialN,delta=0,bias=initialBias,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;!(q<(t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias));k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}if(punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})},toUnicode:function(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}},freeExports&&freeModule)if(module.exports==freeExports)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],60:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],61:[function(require,module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],62:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}i=1;for(var args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(!0===process.noDeprecation)return fn;var warned=!1;return function(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}};var debugEnviron,debugs={};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=function(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=function(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var output,base="",array=!1,braces=["{","}"];(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value))&&(base=" [Function"+(value.name?": "+value.name:"")+"]");return isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0!==keys.length||array&&0!=value.length?recurseTimes<0?isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special"):(ctx.seen.push(value),output=array?function(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),function(output,base,braces){if(output.reduce(function(prev,cur){return 0,cur.indexOf("\n")>=0&&0,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1];return braces[0]+base+" "+output.join(", ")+" "+braces[1]}(output,base,braces)):braces[0]+base+braces[1]}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if((desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]}).get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1)).indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.log=function(){var d,time;console.log("%s - %s",(d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":"),[d.getDate(),months[d.getMonth()],time].join(" ")),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":61,_process:66,inherits:60}],63:[function(require,module,exports){(function(Buffer){"use strict";var base64=require("base64-js"),ieee754=require("ieee754"),customInspectSymbol="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;exports.Buffer=Buffer,exports.SlowBuffer=function(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;function createBuffer(length){if(length>K_MAX_LENGTH)throw new RangeError('The value "'+length+'" is invalid for option "size"');var buf=new Uint8Array(length);return Object.setPrototypeOf(buf,Buffer.prototype),buf}function Buffer(arg,encodingOrOffset,length){if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}function from(value,encodingOrOffset,length){if("string"==typeof value)return function(string,encoding){"string"==typeof encoding&&""!==encoding||(encoding="utf8");if(!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);var length=0|byteLength(string,encoding),buf=createBuffer(length),actual=buf.write(string,encoding);actual!==length&&(buf=buf.slice(0,actual));return buf}(value,encodingOrOffset);if(ArrayBuffer.isView(value))return fromArrayLike(value);if(null==value)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value);if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer))return fromArrayBuffer(value,encodingOrOffset,length);if("undefined"!=typeof SharedArrayBuffer&&(isInstance(value,SharedArrayBuffer)||value&&isInstance(value.buffer,SharedArrayBuffer)))return fromArrayBuffer(value,encodingOrOffset,length);if("number"==typeof value)throw new TypeError('The "value" argument must not be of type number. Received type number');var valueOf=value.valueOf&&value.valueOf();if(null!=valueOf&&valueOf!==value)return Buffer.from(valueOf,encodingOrOffset,length);var b=function(obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length),buf=createBuffer(len);return 0===buf.length?buf:(obj.copy(buf,0,0,len),buf)}if(void 0!==obj.length)return"number"!=typeof obj.length||numberIsNaN(obj.length)?createBuffer(0):fromArrayLike(obj);if("Buffer"===obj.type&&Array.isArray(obj.data))return fromArrayLike(obj.data)}(value);if(b)return b;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof value[Symbol.toPrimitive])return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be of type number');if(size<0)throw new RangeError('The value "'+size+'" is invalid for option "size"')}function allocUnsafe(size){return assertSize(size),createBuffer(size<0?0:0|checked(size))}function fromArrayLike(array){for(var length=array.length<0?0:0|checked(array.length),buf=createBuffer(length),i=0;i<length;i+=1)buf[i]=255&array[i];return buf}function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset)throw new RangeError('"offset" is outside of buffer bounds');if(array.byteLength<byteOffset+(length||0))throw new RangeError('"length" is outside of buffer bounds');var buf;return buf=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Object.setPrototypeOf(buf,Buffer.prototype),buf}function checked(length){if(length>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer))return string.byteLength;if("string"!=typeof string)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof string);var len=string.length,mustMatch=arguments.length>2&&!0===arguments[2];if(!mustMatch&&0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return mustMatch?-1:utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),numberIsNaN(byteOffset=+byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res="",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=function(){try{var arr=new Uint8Array(1),proto={foo:function(){return 42}};return Object.setPrototypeOf(proto,Uint8Array.prototype),Object.setPrototypeOf(arr,proto),42===arr.foo()}catch(e){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(size,fill,encoding){return function(size,fill,encoding){return assertSize(size),size<=0?createBuffer(size):void 0!==fill?"string"==typeof encoding?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill):createBuffer(size)}(size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)},Buffer.isBuffer=function(b){return null!=b&&!0===b._isBuffer&&b!==Buffer.prototype},Buffer.compare=function(a,b){if(isInstance(a,Uint8Array)&&(a=Buffer.from(a,a.offset,a.byteLength)),isInstance(b,Uint8Array)&&(b=Buffer.from(b,b.offset,b.byteLength)),!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!Array.isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)&&(buf=Buffer.from(buf)),!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):function(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim(),this.length>max&&(str+=" ... "),"<Buffer "+str+">"},customInspectSymbol&&(Buffer.prototype[customInspectSymbol]=Buffer.prototype.inspect),Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)&&(target=Buffer.from(target,target.offset,target.byteLength)),!Buffer.isBuffer(target))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof target);if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(this===target)return 0;for(var x=(thisEnd>>>=0)-(thisStart>>>=0),y=(end>>>=0)-(start>>>=0),len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset>>>=0,isFinite(length)?(length>>>=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=hexSliceLookupTable[buf[i]];return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function(start,end){var len=this.length;(start=~~start)<0?(start+=len)<0&&(start=0):start>len&&(start=len),(end=void 0===end?len:~~end)<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start);var newBuf=this.subarray(start,end);return Object.setPrototypeOf(newBuf,Buffer.prototype),newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){(value=+value,offset>>>=0,byteLength>>>=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){(value=+value,offset>>>=0,byteLength>>>=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,255,0),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value,offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,127,-128),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24,offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var len=end-start;if(this===target&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(targetStart,start,end);else if(this===target&&start<targetStart&&targetStart<end)for(var i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);if(1===val.length){var code=val.charCodeAt(0);("utf8"===encoding&&code<128||"latin1"===encoding)&&(val=code)}}else"number"==typeof val?val&=255:"boolean"==typeof val&&(val=Number(val));if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding),len=bytes.length;if(0===len)throw new TypeError('The value "'+val+'" is invalid for argument "value"');for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=(str=str.split("=")[0]).trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isInstance(obj,type){return obj instanceof type||null!=obj&&null!=obj.constructor&&null!=obj.constructor.name&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!=obj}var hexSliceLookupTable=function(){for(var table=new Array(256),i=0;i<16;++i)for(var i16=16*i,j=0;j<16;++j)table[i16+j]="0123456789abcdef"[i]+"0123456789abcdef"[j];return table}()}).call(this,require("buffer").Buffer)},{"base64-js":57,buffer:63,ieee754:64}],64:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],65:[function(require,module,exports){function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}module.exports=function(obj){return null!=obj&&(isBuffer(obj)||function(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}(obj)||!!obj._isBuffer)}},{}],66:[function(require,module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],67:[function(require,module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},{}],68:[function(require,module,exports){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)};function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res}},{}],69:[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode")},{"./decode":67,"./encode":68}],70:[function(require,module,exports){"use strict";var punycode=require("punycode"),util=require("./util");function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=urlParse,exports.resolve=function(source,relative){return urlParse(source,!1,!0).resolve(relative)},exports.resolveObject=function(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative},exports.format=function(obj){util.isString(obj)&&(obj=urlParse(obj));return obj instanceof Url?obj.format():Url.prototype.format.call(obj)},exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,unwise=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var queryIndex=url.indexOf("?"),splitter=-1!==queryIndex&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter);uSplit[0]=uSplit[0].replace(/\\/g,"/");var rest=url=uSplit.join(splitter);if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return this.path=rest,this.href=rest,this.pathname=simplePath[1],simplePath[2]?(this.search=simplePath[2],this.query=parseQueryString?querystring.parse(this.search.substr(1)):this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this}var proto=protocolPattern.exec(rest);if(proto){var lowerProto=(proto=proto[0]).toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var auth,atSign,hostEnd=-1,i=0;i<hostEndingChars.length;i++){-1!==(hec=rest.indexOf(hostEndingChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1!==(atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd))&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1;for(i=0;i<nonHostChars.length;i++){var hec;-1!==(hec=rest.indexOf(nonHostChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),l=(i=0,hostparts.length);i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)part.charCodeAt(j)>127?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),ipv6Hostname||(this.hostname=punycode.toASCII(this.hostname));var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(-1!==rest.indexOf(ae)){var esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(-1!==qm?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){p=this.pathname||"";var s=this.search||"";this.path=p+s}return this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=(auth=encodeURIComponent(auth)).replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),protocol+host+(pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}))+(search=search.replace("#","%23"))+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}for(var result=new Url,tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];"protocol"!==rkey&&(result[rkey]=relative[rkey])}return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}return result.href=result.format(),result}if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],psychotic=(relPath=relative.pathname&&relative.pathname.split("/")||[],result.protocol&&!slashedProtocol[result.protocol]);if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!util.isNullOrUndefined(relative.search)){if(psychotic)result.hostname=result.host=srcPath.shift(),(authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift());return result.search=relative.search,result.query=relative.query,util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result}if(!srcPath.length)return result.pathname=null,result.search?result.path="/"+result.search:result.path=null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)"."===(last=srcPath[i])?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var authInHost,isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);psychotic&&(result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"",(authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift()));return(mustEndAbs=mustEndAbs||result.host&&srcPath.length)&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(":"!==(port=port[0])&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},{"./util":71,punycode:59,querystring:69}],71:[function(require,module,exports){"use strict";module.exports={isString:function(arg){return"string"==typeof arg},isObject:function(arg){return"object"==typeof arg&&null!==arg},isNull:function(arg){return null===arg},isNullOrUndefined:function(arg){return null==arg}}},{}],"@hapi/joi":[function(require,module,exports){"use strict";const Hoek=require("@hapi/hoek"),Any=require("./types/any"),Cast=require("./cast"),Errors=require("./errors"),Lazy=require("./types/lazy"),Ref=require("./ref"),internals={alternatives:require("./types/alternatives"),array:require("./types/array"),boolean:require("./types/boolean"),binary:require("./types/binary"),date:require("./types/date"),func:require("./types/func"),number:require("./types/number"),object:require("./types/object"),string:require("./types/string"),symbol:require("./types/symbol"),callWithDefaults:function(schema,args){return Hoek.assert(this,"Must be invoked on a Joi instance."),this._defaults&&(schema=this._defaults(schema)),schema._currentJoi=this,schema._init(...args)},root:function(){const any=new Any,root=any.clone();return Any.prototype._currentJoi=root,root._currentJoi=root,root._binds=new Set(["any","alternatives","alt","array","bool","boolean","binary","date","func","number","object","string","symbol","validate","describe","compile","assert","attempt","lazy","defaults","extend","allow","valid","only","equal","invalid","disallow","not","required","exist","optional","forbidden","strip","when","empty","default"]),root.any=function(...args){return Hoek.assert(0===args.length,"Joi.any() does not allow arguments."),internals.callWithDefaults.call(this,any,args)},root.alternatives=root.alt=function(...args){return internals.callWithDefaults.call(this,internals.alternatives,args)},root.array=function(...args){return Hoek.assert(0===args.length,"Joi.array() does not allow arguments."),internals.callWithDefaults.call(this,internals.array,args)},root.boolean=root.bool=function(...args){return Hoek.assert(0===args.length,"Joi.boolean() does not allow arguments."),internals.callWithDefaults.call(this,internals.boolean,args)},root.binary=function(...args){return Hoek.assert(0===args.length,"Joi.binary() does not allow arguments."),internals.callWithDefaults.call(this,internals.binary,args)},root.date=function(...args){return Hoek.assert(0===args.length,"Joi.date() does not allow arguments."),internals.callWithDefaults.call(this,internals.date,args)},root.func=function(...args){return Hoek.assert(0===args.length,"Joi.func() does not allow arguments."),internals.callWithDefaults.call(this,internals.func,args)},root.number=function(...args){return Hoek.assert(0===args.length,"Joi.number() does not allow arguments."),internals.callWithDefaults.call(this,internals.number,args)},root.object=function(...args){return internals.callWithDefaults.call(this,internals.object,args)},root.string=function(...args){return Hoek.assert(0===args.length,"Joi.string() does not allow arguments."),internals.callWithDefaults.call(this,internals.string,args)},root.symbol=function(...args){return Hoek.assert(0===args.length,"Joi.symbol() does not allow arguments."),internals.callWithDefaults.call(this,internals.symbol,args)},root.ref=function(...args){return Ref.create(...args)},root.isRef=function(ref){return Ref.isRef(ref)},root.validate=function(value,...args){const last=args[args.length-1],callback="function"==typeof last?last:null,count=args.length-(callback?1:0);if(0===count)return any.validate(value,callback);const options=2===count?args[1]:void 0;return this.compile(args[0])._validateWithOptions(value,options,callback)},root.describe=function(...args){return(args.length?this.compile(args[0]):any).describe()},root.compile=function(schema){try{return Cast.schema(this,schema)}catch(err){throw err.hasOwnProperty("path")&&(err.message=err.message+"("+err.path+")"),err}},root.assert=function(value,schema,message){this.attempt(value,schema,message)},root.attempt=function(value,schema,message){const result=this.validate(value,schema),error=result.error;if(error){if(!message)throw"function"==typeof error.annotate&&(error.message=error.annotate()),error;if(!(message instanceof Error))throw"function"==typeof error.annotate&&(error.message=`${message} ${error.annotate()}`),error;throw message}return result.value},root.reach=function(schema,path){Hoek.assert(schema&&schema instanceof Any,"you must provide a joi schema"),Hoek.assert(Array.isArray(path)||"string"==typeof path,"path must be a string or an array of strings");const reach=(sourceSchema,schemaPath)=>{if(!schemaPath.length)return sourceSchema;const children=sourceSchema._inner.children;if(!children)return;const key=schemaPath.shift();for(let i=0;i<children.length;++i){const child=children[i];if(child.key===key)return reach(child.schema,schemaPath)}},schemaPath="string"==typeof path?path?path.split("."):[]:path.slice();return reach(schema,schemaPath)},root.lazy=function(...args){return internals.callWithDefaults.call(this,Lazy,args)},root.defaults=function(fn){Hoek.assert("function"==typeof fn,"Defaults must be a function");let joi=Object.create(this.any());return joi=fn(joi),Hoek.assert(joi&&joi instanceof this.constructor,"defaults() must return a schema"),Object.assign(joi,this,joi.clone()),joi._defaults=(schema=>(this._defaults&&(schema=this._defaults(schema),Hoek.assert(schema instanceof this.constructor,"defaults() must return a schema")),schema=fn(schema),Hoek.assert(schema instanceof this.constructor,"defaults() must return a schema"),schema)),joi},root.bind=function(){const joi=Object.create(this);return joi._binds.forEach(bind=>{joi[bind]=joi[bind].bind(joi)}),joi},root.extend=function(...args){const extensions=Hoek.flatten(args);Hoek.assert(extensions.length>0,"You need to provide at least one extension"),this.assert(extensions,root.extensionsSchema);const joi=Object.create(this.any());Object.assign(joi,this),joi._currentJoi=joi,joi._binds=new Set(joi._binds);for(let i=0;i<extensions.length;++i){let extension=extensions[i];"function"==typeof extension&&(extension=extension(joi)),this.assert(extension,root.extensionSchema);const base=(extension.base||this.any()).clone(),ctor=base.constructor,type=class extends ctor{constructor(){super(),extension.base&&Object.assign(this,base),this._type=extension.name}};if(extension.language){const lang={[extension.name]:extension.language};type.prototype._language=Hoek.applyToDefaults(type.prototype._language||base._settings&&base._settings.language||{},lang)}if(extension.coerce&&(type.prototype._coerce=function(value,state,options){if(ctor.prototype._coerce){const baseRet=ctor.prototype._coerce.call(this,value,state,options);if(baseRet.errors)return baseRet;value=baseRet.value}const ret=extension.coerce.call(this,value,state,options);return ret instanceof Errors.Err?{value:value,errors:ret}:{value:ret}}),extension.pre&&(type.prototype._base=function(value,state,options){if(ctor.prototype._base){const baseRet=ctor.prototype._base.call(this,value,state,options);if(baseRet.errors)return baseRet;value=baseRet.value}const ret=extension.pre.call(this,value,state,options);return ret instanceof Errors.Err?{value:value,errors:ret}:{value:ret}}),extension.rules)for(let j=0;j<extension.rules.length;++j){const rule=extension.rules[j],ruleArgs=rule.params?rule.params instanceof Any?rule.params._inner.children.map(k=>k.key):Object.keys(rule.params):[],validateArgs=rule.params?Cast.schema(this,rule.params):null;type.prototype[rule.name]=function(...rArgs){if(rArgs.length>ruleArgs.length)throw new Error("Unexpected number of arguments");let schema,hasRef=!1,arg={};for(let k=0;k<ruleArgs.length;++k)arg[ruleArgs[k]]=rArgs[k],!hasRef&&Ref.isRef(rArgs[k])&&(hasRef=!0);if(validateArgs&&(arg=joi.attempt(arg,validateArgs)),rule.validate&&!rule.setup){const validate=function(value,state,options){return rule.validate.call(this,arg,value,state,options)};schema=this._test(rule.name,arg,validate,{description:rule.description,hasRef:hasRef})}else schema=this.clone();if(rule.setup){const newSchema=rule.setup.call(schema,arg);if(void 0!==newSchema&&(Hoek.assert(newSchema instanceof Any,`Setup of extension Joi.${this._type}().${rule.name}() must return undefined or a Joi object`),schema=newSchema),rule.validate){const validate=function(value,state,options){return rule.validate.call(this,arg,value,state,options)};schema=schema._test(rule.name,arg,validate,{description:rule.description,hasRef:hasRef})}}return schema}}extension.describe&&(type.prototype.describe=function(){const description=ctor.prototype.describe.call(this);return extension.describe.call(this,description)});const instance=new type;joi[extension.name]=function(...extArgs){return internals.callWithDefaults.call(this,instance,extArgs)},joi._binds.add(extension.name)}return joi},root.extensionSchema=internals.object.keys({base:internals.object.type(Any,"Joi object"),name:internals.string.required(),coerce:internals.func.arity(3),pre:internals.func.arity(3),language:internals.object,describe:internals.func.arity(1),rules:internals.array.items(internals.object.keys({name:internals.string.required(),setup:internals.func.arity(1),validate:internals.func.arity(4),params:[internals.object.pattern(/.*/,internals.object.type(Any,"Joi object")),internals.object.type(internals.object.constructor,"Joi object")],description:[internals.string,internals.func.arity(1)]}).or("setup","validate"))}).strict(),root.extensionsSchema=internals.array.items([internals.object,internals.func.arity(1)]).strict(),root.version=require("../package.json").version,root}};module.exports=internals.root()},{"../package.json":55,"./cast":31,"./errors":32,"./ref":34,"./types/alternatives":37,"./types/any":38,"./types/array":40,"./types/binary":41,"./types/boolean":42,"./types/date":43,"./types/func":44,"./types/lazy":45,"./types/number":46,"./types/object":47,"./types/string":49,"./types/symbol":53,"@hapi/hoek":20}]},{},[])("@hapi/joi")});